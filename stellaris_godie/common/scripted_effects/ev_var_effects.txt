#3.0之后的
remove_ev_maintenance_buff_new = {
	remove_modifier = empty_vagrant_maintenance_var
}
give_ev_maintenance_buff_new = {
	add_modifier = {
		modifier = empty_vagrant_maintenance_var
		multiplier = ev_maintenance_value
		#days = 60
	}
	if = {
		limit = { 
			is_gestalt = yes
		}
		remove_modifier = empty_vagrant_maintenance_var
	}
}
give_test_ev_maintenance = {
	every_owned_ship = {
		limit = {
			is_any_type_homeless_ship = yes
		}
		remove_modifier = empty_vagrant_maintenance_var
		set_variable = {
			which = ev_maintenance_value
			value = owner.ev_maintenance_value
		}
		add_modifier = {
			modifier = empty_vagrant_maintenance_var
			multiplier = ev_maintenance_value
		}
	}
	
}
#维持度变化
maintenance_change_var_new = {
	#重置
	set_variable = {
		which = ev_maintenance_value_balance
		value = value:ev_maintenance_value_balance_var
	}
	##set_variable = {
	##	which = ev_maintenance_value_base
	##	value = 0
	##}
	##set_variable = {
	##	which = ev_maintenance_value_edicts
	##	value = 0
	##}
	##set_variable = {
	##	which = ev_maintenance_value_policy
	##	value = 0
	##}
	##改变维持度平衡值
	##法令
	#if = {
	#	limit = { 
	#		has_edict = ev_up_maintenance_1
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#if = {
	#	limit = { 
	#		has_edict = ev_up_maintenance_2
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#if = {
	#	limit = { 
	#		has_edict = ev_up_maintenance_3
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#if = {
	#	limit = { 
	#		has_edict = ev_up_maintenance_4
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	##根据传统
	#if = {
	#	limit = {
	#		has_tradition = tr_ev_void_5
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#if = {
	#	limit = {
	#		has_tradition = tr_ev_escort_4
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#if = {
	#	limit = {
	#		has_tradition = tr_ev_maintain_4
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
#
	##if = {
	##	limit = {
	##		has_modifier = empty_vagrant_maintenance_up_1
	##	}
	##	change_variable = {
	##		which = ev_maintenance_value_balance
	##		value = 10
	##	}
	##}
	##if = {
	##	limit = {
	##		has_modifier = empty_vagrant_maintenance_up_2
	##	}
	##	change_variable = {
	##		which = ev_maintenance_value_balance
	##		value = 20
	##	}
	##}
	#
	##民政	
	#if = {
	#	limit = {
	#		has_valid_civic = civic_ev_maintenance_add
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 25
	#	}
	#}
	##政策
	#switch = {
	#	trigger = has_policy_flag
	#	ev_maintenance_reduce_low = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = -10
	#		}
	#	}
	#	ev_maintenance_reduce_high = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = -20
	#		}
	#	}
	#	ev_maintenance_add_low = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = 10
	#		}
	#	}
	#	ev_maintenance_add_high = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = 20
	#		}
	#	}
	#	ev_maintenance_reduce_max = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = -35
	#		}
	#	}
	#	ev_maintenance_add_max = {
	#		change_variable = {
	#			which = ev_maintenance_value_balance
	#			value = 35
	#		}
	#	}
	#}
	##科技
	#if = {
	#	limit = {
	#		has_technology = tech_ev_maintenance_1
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 10
	#	}
	#}
	#if = {
	#	limit = {
	#		has_technology = tech_ev_maintenance_2
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 10
	#	}
	#}
	#if = {
	#	limit = {
	#		has_tradition = tr_expansion_colonization_fever
	#	}
	#	change_variable = {
	#		which = ev_maintenance_value_balance
	#		value = 5
	#	}
	#}
	#根据维持度平衡计算维持度
	if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value < ev_maintenance_value_balance
			}
		}
		set_variable = {
			which = ev_maintenance_value_copy
			value = ev_maintenance_value
		}
		subtract_variable = {
			which = ev_maintenance_value_copy
			value = ev_maintenance_value_balance
		}
		multiply_variable = {
			which = ev_maintenance_value_copy
			value = -0.05
		}
		change_variable = {
			which = ev_maintenance_value
			value = ev_maintenance_value_copy
		}
		change_variable = {
			which = ev_maintenance_value
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= ev_maintenance_value_balance
			}
		}
		set_variable = {
			which = ev_maintenance_value_copy
			value = ev_maintenance_value
		}
		subtract_variable = {
			which = ev_maintenance_value_copy
			value = ev_maintenance_value_balance
		}
		multiply_variable = {
			which = ev_maintenance_value_copy
			value = 0.05
		}
		
		subtract_variable = {
			which = ev_maintenance_value
			value = ev_maintenance_value_copy
		}
		subtract_variable = {
			which = ev_maintenance_value
			value = 0.1
		}
	}
	remove_ev_maintenance_buff_new = yes
	give_ev_maintenance_buff_new = yes
}

#3.0之前
#重置buff
remove_ev_maintenance_buff = {
	remove_modifier = empty_vagrant_maintenance_n_1
	remove_modifier = empty_vagrant_maintenance_n_2
	remove_modifier = empty_vagrant_maintenance_n_3
	remove_modifier = empty_vagrant_maintenance_n_4
	remove_modifier = empty_vagrant_maintenance_n_5
	remove_modifier = empty_vagrant_maintenance_n_6
	remove_modifier = empty_vagrant_maintenance_n_7
	remove_modifier = empty_vagrant_maintenance_n_8
	remove_modifier = empty_vagrant_maintenance_n_9
	remove_modifier = empty_vagrant_maintenance_n_10
	remove_modifier = empty_vagrant_maintenance_n_11
	remove_modifier = empty_vagrant_maintenance_n_12
	remove_modifier = empty_vagrant_maintenance_n_13
	remove_modifier = empty_vagrant_maintenance_n_14
	remove_modifier = empty_vagrant_maintenance_n_15
	remove_modifier = empty_vagrant_maintenance_n_16
	remove_modifier = empty_vagrant_maintenance_n_17
	remove_modifier = empty_vagrant_maintenance_n_18
	remove_modifier = empty_vagrant_maintenance_n_19
	remove_modifier = empty_vagrant_maintenance_n_20
	remove_modifier = empty_vagrant_maintenance_n_21
	remove_modifier = empty_vagrant_maintenance_n_22
	remove_modifier = empty_vagrant_maintenance_n_23
	remove_modifier = empty_vagrant_maintenance_n_24
	remove_modifier = empty_vagrant_maintenance_n_25
	remove_modifier = empty_vagrant_maintenance_n_26
	remove_modifier = empty_vagrant_maintenance_n_27
	remove_modifier = empty_vagrant_maintenance_n_28
	remove_modifier = empty_vagrant_maintenance_n_29
	remove_modifier = empty_vagrant_maintenance_n_30
	remove_modifier = empty_vagrant_maintenance_0
	remove_modifier = empty_vagrant_maintenance_1
	remove_modifier = empty_vagrant_maintenance_2
	remove_modifier = empty_vagrant_maintenance_3
	remove_modifier = empty_vagrant_maintenance_4
	remove_modifier = empty_vagrant_maintenance_5
	remove_modifier = empty_vagrant_maintenance_6
	remove_modifier = empty_vagrant_maintenance_7
	remove_modifier = empty_vagrant_maintenance_8
	remove_modifier = empty_vagrant_maintenance_9
	remove_modifier = empty_vagrant_maintenance_10
	remove_modifier = empty_vagrant_maintenance_11
	remove_modifier = empty_vagrant_maintenance_12
	remove_modifier = empty_vagrant_maintenance_13
	remove_modifier = empty_vagrant_maintenance_14
	remove_modifier = empty_vagrant_maintenance_15
	remove_modifier = empty_vagrant_maintenance_16
	remove_modifier = empty_vagrant_maintenance_17
	remove_modifier = empty_vagrant_maintenance_18
	remove_modifier = empty_vagrant_maintenance_19
	remove_modifier = empty_vagrant_maintenance_20
	remove_modifier = empty_vagrant_maintenance_21
	remove_modifier = empty_vagrant_maintenance_22
	remove_modifier = empty_vagrant_maintenance_23
	remove_modifier = empty_vagrant_maintenance_24
	remove_modifier = empty_vagrant_maintenance_25
	remove_modifier = empty_vagrant_maintenance_26
	remove_modifier = empty_vagrant_maintenance_27
	remove_modifier = empty_vagrant_maintenance_28
	remove_modifier = empty_vagrant_maintenance_29
	remove_modifier = empty_vagrant_maintenance_30
	remove_modifier = empty_vagrant_maintenance_31
	remove_modifier = empty_vagrant_maintenance_32
	remove_modifier = empty_vagrant_maintenance_33
	remove_modifier = empty_vagrant_maintenance_34
	remove_modifier = empty_vagrant_maintenance_35
	remove_modifier = empty_vagrant_maintenance_36
	remove_modifier = empty_vagrant_maintenance_37
	remove_modifier = empty_vagrant_maintenance_38
	remove_modifier = empty_vagrant_maintenance_39
	remove_modifier = empty_vagrant_maintenance_40
	remove_modifier = empty_vagrant_maintenance_41
	remove_modifier = empty_vagrant_maintenance_42
	remove_modifier = empty_vagrant_maintenance_43
	remove_modifier = empty_vagrant_maintenance_44
	remove_modifier = empty_vagrant_maintenance_45
	remove_modifier = empty_vagrant_maintenance_46
	remove_modifier = empty_vagrant_maintenance_47
	remove_modifier = empty_vagrant_maintenance_48
	remove_modifier = empty_vagrant_maintenance_49
	remove_modifier = empty_vagrant_maintenance_50
	#remove_modifier = empty_vagrant_maintenance_mid
	remove_modifier = empty_vagrant_maintenance_51
	remove_modifier = empty_vagrant_maintenance_52
	remove_modifier = empty_vagrant_maintenance_53
	remove_modifier = empty_vagrant_maintenance_54
	remove_modifier = empty_vagrant_maintenance_55
	remove_modifier = empty_vagrant_maintenance_56
	remove_modifier = empty_vagrant_maintenance_57
	remove_modifier = empty_vagrant_maintenance_58
	remove_modifier = empty_vagrant_maintenance_59
	remove_modifier = empty_vagrant_maintenance_60
	remove_modifier = empty_vagrant_maintenance_61
	remove_modifier = empty_vagrant_maintenance_62
	remove_modifier = empty_vagrant_maintenance_63
	remove_modifier = empty_vagrant_maintenance_64
	remove_modifier = empty_vagrant_maintenance_65
	remove_modifier = empty_vagrant_maintenance_66
	remove_modifier = empty_vagrant_maintenance_67
	remove_modifier = empty_vagrant_maintenance_68
	remove_modifier = empty_vagrant_maintenance_69
	remove_modifier = empty_vagrant_maintenance_70
	remove_modifier = empty_vagrant_maintenance_71
	remove_modifier = empty_vagrant_maintenance_72
	remove_modifier = empty_vagrant_maintenance_73
	remove_modifier = empty_vagrant_maintenance_74
	remove_modifier = empty_vagrant_maintenance_75
	remove_modifier = empty_vagrant_maintenance_76
	remove_modifier = empty_vagrant_maintenance_77
	remove_modifier = empty_vagrant_maintenance_78
	remove_modifier = empty_vagrant_maintenance_79
	remove_modifier = empty_vagrant_maintenance_80
	remove_modifier = empty_vagrant_maintenance_81
	remove_modifier = empty_vagrant_maintenance_82
	remove_modifier = empty_vagrant_maintenance_83
	remove_modifier = empty_vagrant_maintenance_84
	remove_modifier = empty_vagrant_maintenance_85
	remove_modifier = empty_vagrant_maintenance_86
	remove_modifier = empty_vagrant_maintenance_87
	remove_modifier = empty_vagrant_maintenance_88
	remove_modifier = empty_vagrant_maintenance_89
	remove_modifier = empty_vagrant_maintenance_90
	remove_modifier = empty_vagrant_maintenance_91
	remove_modifier = empty_vagrant_maintenance_92
	remove_modifier = empty_vagrant_maintenance_93
	remove_modifier = empty_vagrant_maintenance_94
	remove_modifier = empty_vagrant_maintenance_95
	remove_modifier = empty_vagrant_maintenance_96
	remove_modifier = empty_vagrant_maintenance_97
	remove_modifier = empty_vagrant_maintenance_98
	remove_modifier = empty_vagrant_maintenance_99
	remove_modifier = empty_vagrant_maintenance_100
	remove_modifier = empty_vagrant_maintenance_101
	remove_modifier = empty_vagrant_maintenance_102
	remove_modifier = empty_vagrant_maintenance_103
	remove_modifier = empty_vagrant_maintenance_104
	remove_modifier = empty_vagrant_maintenance_105
	remove_modifier = empty_vagrant_maintenance_106
	remove_modifier = empty_vagrant_maintenance_107
	remove_modifier = empty_vagrant_maintenance_108
	remove_modifier = empty_vagrant_maintenance_109
	remove_modifier = empty_vagrant_maintenance_110
}

#根据维持度函数值获得修正
give_ev_maintenance_buff = {
	if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value < -30
			}
		}
		set_variable = {
			which = ev_maintenance_value
			value = -30
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_30"
			days = -1
		}
	}
	# -30——-21
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -31
			}
			check_variable = {
				which = ev_maintenance_value
				value < -30
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_30"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -30
			}
			check_variable = {
				which = ev_maintenance_value
				value < -29
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_29"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -29
			}
			check_variable = {
				which = ev_maintenance_value
				value < -28
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_28"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -28
			}
			check_variable = {
				which = ev_maintenance_value
				value < -27
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_27"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -27
			}
			check_variable = {
				which = ev_maintenance_value
				value < -26
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_26"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -26
			}
			check_variable = {
				which = ev_maintenance_value
				value < -25
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_25"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -25
			}
			check_variable = {
				which = ev_maintenance_value
				value < -24
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_24"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -24
			}
			check_variable = {
				which = ev_maintenance_value
				value < -23
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_23"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -23
			}
			check_variable = {
				which = ev_maintenance_value
				value < -22
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_22"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -22
			}
			check_variable = {
				which = ev_maintenance_value
				value < -21
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_21"
			days = -1
		}
	}
	# -20——-11
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -21
			}
			check_variable = {
				which = ev_maintenance_value
				value < -20
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_20"
			days = -1
		}
	}
	###
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -20
			}
			check_variable = {
				which = ev_maintenance_value
				value < -19
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_19"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -19
			}
			check_variable = {
				which = ev_maintenance_value
				value < -18
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_18"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -18
			}
			check_variable = {
				which = ev_maintenance_value
				value < -17
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_17"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -17
			}
			check_variable = {
				which = ev_maintenance_value
				value < -16
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_16"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -16
			}
			check_variable = {
				which = ev_maintenance_value
				value < -15
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_15"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -15
			}
			check_variable = {
				which = ev_maintenance_value
				value < -14
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_14"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -14
			}
			check_variable = {
				which = ev_maintenance_value
				value < -13
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_13"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -13
			}
			check_variable = {
				which = ev_maintenance_value
				value < -12
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_12"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -12
			}
			check_variable = {
				which = ev_maintenance_value
				value < -11
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_11"
			days = -1
		}
	}
	# -10——-1
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -11
			}
			check_variable = {
				which = ev_maintenance_value
				value < -10
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_10"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -10
			}
			check_variable = {
				which = ev_maintenance_value
				value < -9
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_9"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -9
			}
			check_variable = {
				which = ev_maintenance_value
				value < -8
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_8"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -8
			}
			check_variable = {
				which = ev_maintenance_value
				value < -7
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_7"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -7
			}
			check_variable = {
				which = ev_maintenance_value
				value < -6
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_6"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -6
			}
			check_variable = {
				which = ev_maintenance_value
				value < -5
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_5"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -5
			}
			check_variable = {
				which = ev_maintenance_value
				value < -4
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_4"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -4
			}
			check_variable = {
				which = ev_maintenance_value
				value < -3
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_3"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -3
			}
			check_variable = {
				which = ev_maintenance_value
				value < -2
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_2"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -2
			}
			check_variable = {
				which = ev_maintenance_value
				value < -1
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_n_1"
			days = -1
		}
	}
	###### 0-9
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= -1
			}
			check_variable = {
				which = ev_maintenance_value
				value < 0
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_0"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 0
			}
			check_variable = {
				which = ev_maintenance_value
				value < 1
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_1"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 1
			}
			check_variable = {
				which = ev_maintenance_value
				value < 2
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_2"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 2
			}
			check_variable = {
				which = ev_maintenance_value
				value < 3
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_3"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 3
			}
			check_variable = {
				which = ev_maintenance_value
				value < 4
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_4"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 4
			}
			check_variable = {
				which = ev_maintenance_value
				value < 5
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_5"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 5
			}
			check_variable = {
				which = ev_maintenance_value
				value < 6
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_6"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 6
			}
			check_variable = {
				which = ev_maintenance_value
				value < 7
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_7"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 7
			}
			check_variable = {
				which = ev_maintenance_value
				value < 8
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_8"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 8
			}
			check_variable = {
				which = ev_maintenance_value
				value < 9
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_9"
			days = -1
		}
	}
	######10-19
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 9
			}
			check_variable = {
				which = ev_maintenance_value
				value < 10
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_10"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 10
			}
			check_variable = {
				which = ev_maintenance_value
				value < 11
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_11"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 11
			}
			check_variable = {
				which = ev_maintenance_value
				value < 12
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_12"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 12
			}
			check_variable = {
				which = ev_maintenance_value
				value < 13
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_13"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 13
			}
			check_variable = {
				which = ev_maintenance_value
				value < 14
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_14"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 14
			}
			check_variable = {
				which = ev_maintenance_value
				value < 15
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_15"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 15
			}
			check_variable = {
				which = ev_maintenance_value
				value < 16
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_16"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 16
			}
			check_variable = {
				which = ev_maintenance_value
				value < 17
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_17"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 17
			}
			check_variable = {
				which = ev_maintenance_value
				value < 18
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_18"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 18
			}
			check_variable = {
				which = ev_maintenance_value
				value < 19
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_19"
			days = -1
		}
	}
	######### 20-29
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 19
			}
			check_variable = {
				which = ev_maintenance_value
				value < 20
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_20"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 20
			}
			check_variable = {
				which = ev_maintenance_value
				value < 21
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_21"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 21
			}
			check_variable = {
				which = ev_maintenance_value
				value < 22
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_22"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 22
			}
			check_variable = {
				which = ev_maintenance_value
				value < 23
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_23"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 23
			}
			check_variable = {
				which = ev_maintenance_value
				value < 24
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_24"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 24
			}
			check_variable = {
				which = ev_maintenance_value
				value < 25
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_25"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 25
			}
			check_variable = {
				which = ev_maintenance_value
				value < 26
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_26"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 26
			}
			check_variable = {
				which = ev_maintenance_value
				value < 27
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_27"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 27
			}
			check_variable = {
				which = ev_maintenance_value
				value < 28
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_28"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 28
			}
			check_variable = {
				which = ev_maintenance_value
				value < 29
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_29"
			days = -1
		}
	}
	######### 30-39
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 29
			}
			check_variable = {
				which = ev_maintenance_value
				value < 30
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_30"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 30
			}
			check_variable = {
				which = ev_maintenance_value
				value < 31
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_31"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 31
			}
			check_variable = {
				which = ev_maintenance_value
				value < 32
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_32"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 32
			}
			check_variable = {
				which = ev_maintenance_value
				value < 33
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_33"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 33
			}
			check_variable = {
				which = ev_maintenance_value
				value < 34
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_34"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 34
			}
			check_variable = {
				which = ev_maintenance_value
				value < 35
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_35"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 35
			}
			check_variable = {
				which = ev_maintenance_value
				value < 36
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_36"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 36
			}
			check_variable = {
				which = ev_maintenance_value
				value < 37
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_37"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 37
			}
			check_variable = {
				which = ev_maintenance_value
				value < 38
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_38"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 38
			}
			check_variable = {
				which = ev_maintenance_value
				value < 39
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_39"
			days = -1
		}
	}
	######### 40-49
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 39
			}
			check_variable = {
				which = ev_maintenance_value
				value < 40
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_40"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 40
			}
			check_variable = {
				which = ev_maintenance_value
				value < 41
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_41"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 41
			}
			check_variable = {
				which = ev_maintenance_value
				value < 42
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_42"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 42
			}
			check_variable = {
				which = ev_maintenance_value
				value < 43
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_43"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 43
			}
			check_variable = {
				which = ev_maintenance_value
				value < 44
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_44"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 44
			}
			check_variable = {
				which = ev_maintenance_value
				value < 45
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_45"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 45
			}
			check_variable = {
				which = ev_maintenance_value
				value < 46
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_46"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 46
			}
			check_variable = {
				which = ev_maintenance_value
				value < 47
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_47"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 47
			}
			check_variable = {
				which = ev_maintenance_value
				value < 48
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_48"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 48
			}
			check_variable = {
				which = ev_maintenance_value
				value < 49
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_49"
			days = -1
		}
	}
	######### 50-59
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 49
			}
			check_variable = {
				which = ev_maintenance_value
				value < 50
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_50"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 50
			}
			check_variable = {
				which = ev_maintenance_value
				value < 51
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_51"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 51
			}
			check_variable = {
				which = ev_maintenance_value
				value < 52
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_52"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 52
			}
			check_variable = {
				which = ev_maintenance_value
				value < 53
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_53"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 53
			}
			check_variable = {
				which = ev_maintenance_value
				value < 54
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_54"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 54
			}
			check_variable = {
				which = ev_maintenance_value
				value < 55
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_55"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 55
			}
			check_variable = {
				which = ev_maintenance_value
				value < 56
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_56"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 56
			}
			check_variable = {
				which = ev_maintenance_value
				value < 57
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_57"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 57
			}
			check_variable = {
				which = ev_maintenance_value
				value < 58
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_58"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 58
			}
			check_variable = {
				which = ev_maintenance_value
				value < 59
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_59"
			days = -1
		}
	}
	######### 60-69
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 59
			}
			check_variable = {
				which = ev_maintenance_value
				value < 60
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_60"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 60
			}
			check_variable = {
				which = ev_maintenance_value
				value < 61
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_61"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 61
			}
			check_variable = {
				which = ev_maintenance_value
				value < 62
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_62"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 62
			}
			check_variable = {
				which = ev_maintenance_value
				value < 63
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_63"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 63
			}
			check_variable = {
				which = ev_maintenance_value
				value < 64
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_64"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 64
			}
			check_variable = {
				which = ev_maintenance_value
				value < 65
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_65"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 65
			}
			check_variable = {
				which = ev_maintenance_value
				value < 66
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_66"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 66
			}
			check_variable = {
				which = ev_maintenance_value
				value < 67
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_67"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 67
			}
			check_variable = {
				which = ev_maintenance_value
				value < 68
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_68"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 68
			}
			check_variable = {
				which = ev_maintenance_value
				value < 69
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_69"
			days = -1
		}
	}
	######### 70-79
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 69
			}
			check_variable = {
				which = ev_maintenance_value
				value < 70
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_70"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 70
			}
			check_variable = {
				which = ev_maintenance_value
				value < 71
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_71"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 71
			}
			check_variable = {
				which = ev_maintenance_value
				value < 72
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_72"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 72
			}
			check_variable = {
				which = ev_maintenance_value
				value < 73
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_73"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 73
			}
			check_variable = {
				which = ev_maintenance_value
				value < 74
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_74"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 74
			}
			check_variable = {
				which = ev_maintenance_value
				value < 75
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_75"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 75
			}
			check_variable = {
				which = ev_maintenance_value
				value < 76
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_76"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 76
			}
			check_variable = {
				which = ev_maintenance_value
				value < 77
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_77"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 77
			}
			check_variable = {
				which = ev_maintenance_value
				value < 78
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_78"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 78
			}
			check_variable = {
				which = ev_maintenance_value
				value < 79
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_79"
			days = -1
		}
	}
	######### 80-89
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 79
			}
			check_variable = {
				which = ev_maintenance_value
				value < 80
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_80"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 80
			}
			check_variable = {
				which = ev_maintenance_value
				value < 81
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_81"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 81
			}
			check_variable = {
				which = ev_maintenance_value
				value < 82
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_82"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 82
			}
			check_variable = {
				which = ev_maintenance_value
				value < 83
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_83"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 83
			}
			check_variable = {
				which = ev_maintenance_value
				value < 84
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_84"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 84
			}
			check_variable = {
				which = ev_maintenance_value
				value < 85
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_85"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 85
			}
			check_variable = {
				which = ev_maintenance_value
				value < 86
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_86"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 86
			}
			check_variable = {
				which = ev_maintenance_value
				value < 87
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_87"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 87
			}
			check_variable = {
				which = ev_maintenance_value
				value < 88
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_88"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 88
			}
			check_variable = {
				which = ev_maintenance_value
				value < 89
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_89"
			days = -1
		}
	}
	######### 90-99
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 89
			}
			check_variable = {
				which = ev_maintenance_value
				value < 90
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_90"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 90
			}
			check_variable = {
				which = ev_maintenance_value
				value < 91
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_91"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 91
			}
			check_variable = {
				which = ev_maintenance_value
				value < 92
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_92"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 92
			}
			check_variable = {
				which = ev_maintenance_value
				value < 93
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_93"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 93
			}
			check_variable = {
				which = ev_maintenance_value
				value < 94
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_94"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 94
			}
			check_variable = {
				which = ev_maintenance_value
				value < 95
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_95"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 95
			}
			check_variable = {
				which = ev_maintenance_value
				value < 96
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_96"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 96
			}
			check_variable = {
				which = ev_maintenance_value
				value < 97
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_97"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 97
			}
			check_variable = {
				which = ev_maintenance_value
				value < 98
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_98"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 98
			}
			check_variable = {
				which = ev_maintenance_value
				value < 99
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_99"
			days = -1
		}
	}
	######### 100-109
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 99
			}
			check_variable = {
				which = ev_maintenance_value
				value < 100
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_100"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 100
			}
			check_variable = {
				which = ev_maintenance_value
				value < 101
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_101"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 101
			}
			check_variable = {
				which = ev_maintenance_value
				value < 102
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_102"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 102
			}
			check_variable = {
				which = ev_maintenance_value
				value < 103
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_103"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 103
			}
			check_variable = {
				which = ev_maintenance_value
				value < 104
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_104"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 104
			}
			check_variable = {
				which = ev_maintenance_value
				value < 105
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_105"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 105
			}
			check_variable = {
				which = ev_maintenance_value
				value < 106
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_106"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 106
			}
			check_variable = {
				which = ev_maintenance_value
				value < 107
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_107"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 107
			}
			check_variable = {
				which = ev_maintenance_value
				value < 108
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_108"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 108
			}
			check_variable = {
				which = ev_maintenance_value
				value < 109
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_109"
			days = -1
		}
	}
	#110
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 109
			}
			check_variable = {
				which = ev_maintenance_value
				value <= 110
			}
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_110"
			days = -1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = ev_maintenance_value
				value >= 110
			}
		}
		set_variable = {
			which = ev_maintenance_value
			value = 110
		}
		add_modifier = {
			modifier = "empty_vagrant_maintenance_110"
			days = -1
		}
	}
}

maintenance_change_var = {
	#清除
	set_variable = {
		which = ev_maintenance_value_base
		value = 0
	}
	set_variable = {
		which = ev_maintenance_value_edicts
		value = 0
	}
	set_variable = {
		which = ev_maintenance_value_policy
		value = 0
	}
	#法令增长	
	if = {
		limit = {
			has_modifier = empty_vagrant_maintenance_up_1
		}
		set_variable = {
			which = ev_maintenance_value_edicts
			value = 0.1
		}
	}
	else_if = {
		limit = {
			has_modifier = empty_vagrant_maintenance_up_2
		}
		set_variable = {
			which = ev_maintenance_value_edicts
			value = 0.2
		}
	}
	else = {
		set_variable = {
			which = ev_maintenance_value_edicts
			value = 0
		}
	}
	#基础增长	
	if = {
		limit = {
			NOT = {
				has_valid_civic = civic_ev_maintenance_add
			}
			check_variable = {
				which = ev_maintenance_value
				value > 100
			}
		}
		set_variable = {
			which = ev_maintenance_value_base
			value = 0.01
		}
	}
	#else_if = {
	#	limit = {
	#		has_valid_civic = civic_ev_maintenance_add
	#		AND = {
	#			check_variable = {
	#				which = ev_maintenance_value
	#				value > 100
	#			}
	#		}
	#	}
	#	#change_variable = {
	#	#	which = ev_maintenance_value
	#	#	value = 0.025
	#	#}
	#	set_variable = {
	#		which = ev_maintenance_value_base
	#		value = 0.025
	#	}
	#}
	else_if = {
		limit = {
			NOT = {
				has_valid_civic = civic_ev_maintenance_add
			}
			check_variable = {
				which = ev_maintenance_value
				value > 75
			}
			check_variable = {
				which = ev_maintenance_value
				value <= 100
			}
		}
		set_variable = {
			which = ev_maintenance_value_base
			value = 0.05
		}
	}
	#else_if = {
	#	limit = {
	#		has_valid_civic = civic_ev_maintenance_add
	#		AND = {
	#			check_variable = {
	#				which = ev_maintenance_value
	#				value > 75
	#			}
	#			check_variable = {
	#				which = ev_maintenance_value
	#				value <= 100
	#			}
	#		}
	#	}
	#	set_variable = {
	#		which = ev_maintenance_value_base
	#		value = 0.15
	#	}
	#}
	else_if = {
		limit = {
			NOT = {
				has_valid_civic = civic_ev_maintenance_add
			}
			check_variable = {
				which = ev_maintenance_value
				value <= 75
			}
		}
		set_variable = {
			which = ev_maintenance_value_base
			value = 0.1
		}
	}
	#else_if = {
	#	limit = {
	#		has_valid_civic = civic_ev_maintenance_add
	#		AND = {
	#			check_variable = {
	#				which = ev_maintenance_value
	#				value <= 75
	#			}
	#		}
	#	}
	#	set_variable = {
	#		which = ev_maintenance_value_base
	#		value = 0.3
	#	}
	#}
	else = {
		set_variable = {
			which = ev_maintenance_value_base
			value = 0.1
		}
	}
	if = {
		limit = {
			has_policy_flag = ev_maintenance_reduce_low
		}
		set_variable = {
			which = ev_maintenance_value_policy
			value = -0.15
		}
	}
	else_if = {
		limit = {
			has_policy_flag = ev_maintenance_reduce_high
		}
		set_variable = {
			which = ev_maintenance_value_policy
			value = -0.3
		}
	}
	else = {
		set_variable = {
			which = ev_maintenance_value_policy
			value = 0
		}
	}
	remove_ev_maintenance_buff = yes
	give_ev_maintenance_buff = yes
}

#维持度事件的效果,高等
random_maintenance_high_effect = {
	locked_random_list = {
		1 = {
			add_monthly_resource_mult = {
				resource = energy
				max = -800
				value = -8
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = minerals
				max = -800
				value = -8
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = food
				max = -800
				value = -8
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = alloys
				max = -800
				value = -8
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = consumer_goods
				max = -800
				value = -8
			}
		}
	}
}

#维持度事件的效果,中等
random_maintenance_mid_effect = {
	locked_random_list = {
		1 = {
			add_monthly_resource_mult = {
				resource = energy
				max = -500
				value = -5
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = minerals
				max = -500
				value = -5
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = food
				max = -500
				value = -5
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = alloys
				max = -500
				value = -5
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = consumer_goods
				max = -500
				value = -5
			}
		}
	}
}

#内务部介入的效果，低等
random_maintenance_low_effect = {
	locked_random_list = {
		1 = {
			add_monthly_resource_mult = {
				resource = energy
				max = -300
				value = -2
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = minerals
				max = -300
				value = -2
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = food
				max = -300
				value = -2
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = alloys
				max = -300
				value = -2
			}
		}
		1 = {
			add_monthly_resource_mult = {
				resource = consumer_goods
				max = -300
				value = -2
			}
		}
	}
}

#2022-05-15 维持度花费计算
new_random_maintenance_effect = {
	
	add_resource = {
		unity = $NUM$
		mult = ev_unity_income
	}
}
#叛乱事件链-新版
ev_leader_rebal_new_effect = {
	create_country = {
		species = root.owner_species
		type = default
		authority = random
		day_zero_contact = no
		auto_delete = no
		name = random
		origin = "origin_ev_separatists"
		#species = random	
		ethos = random
		flag = random
		civics = {
			civic = civic_empty_vagrant
			civic = random
		}
		#NAME_EV_Uprising_Country_2
		

		effect = {
			#set_name = {
			#	key = "NAME_EV_Uprising_Country_1"
			#	variable_string = "[Root.GetName]"
			#}
			set_country_flag = ev_rebel_country
			save_event_target_as = ev_rebel_country_target
			#set_country_type = default_ev
			
			change_government = {
				authority = random
				
				civics = {
					civic = civic_empty_vagrant
					civic = random
				}

			}
			ev_ai_spwan_effect = yes
		}
	}
	
	
	last_created_country = {
		root = {
			every_owned_leader = {
				while = {
					count = 5
					remove_trait = trait_leader_ev_rebal_1
				}
			}
			every_owned_leader = {
				limit = {
					NOT = {
						leader_class = ruler
					}
					has_leader_flag = ev_rebel_country_ledaer
				}
				#save_event_target_as = rebel_country_ruler

				set_owner = event_target:ev_rebel_country_target
			}

			every_owned_ship = {
				limit = {
					has_ship_flag = ev_rebel_country_ship
				}
				#save_event_target_as = rebel_country_ruler
				fleet = { set_owner = event_target:ev_rebel_country_target }
			}
		}
		


		copy_techs_from = {
			target = root
		}
		
		save_event_target_as = is_ev_ship_rebel_country
		set_country_flag = is_ev_ship_rebel_country
		
		add_resource = {
			energy = 1000
			minerals = 1000				# enough for a spaceport and then some
			alloys = 500
			food = 1200
			consumer_goods = 500
			volatile_motes = 100
			exotic_gases = 100
			rare_crystals = 100
			influence = 100
			unity = 500
			multiplier = root.ev_leader_rebal_strong
		}
		copy_techs_from = {
			target = prevprev
		}
		#没写战争目标
		declare_war = {
			target = prevprev
			attacker_war_goal = "wg_ev_ship_uprising"
			name = {
				key = "NAME_EV_Uprising_War"
				variable_string = "This.MainDefender.GetAdj"
			}
			# "[This.MainDefender.GetAdj] Machine Uprising"
			
		}
		
		ROOT = {
			random_controlled_fleet = {
				save_event_target_as = ev_ship_rebel_location
				
			}
			
		}
		set_variable = {
			which = ev_leader_rebal_strong_difficult
			value = $NUM$ #和难度相关
		}
		
		
		multiply_variable  = {
			which = root.ev_leader_rebal_strong
			value = $NUM$
		}
		create_fleet = {
			effect = {
				set_owner = event_target:is_ev_ship_rebel_country
				while = {
					count = 5
					create_ship = {
						name = random
						random_existing_design = corvette
					}
				}
				set_location = {
					target = event_target:ev_ship_rebel_location
					distance = 150
					angle = random
				}
			}
		}
		random_owned_ship = {
			save_event_target_as = rebel_country_ship_name
		}
		#set_name = random
		
		while = {
			count = 3  #与强度有关
			
			#运输队
			create_fleet = {
				effect = {
					set_owner = event_target:is_ev_ship_rebel_country
					while = {
						count = 10
						create_army_transport = {
							ship_name = "NAME_Pirate_Transport"
							graphical_culture = "mammalian_01"
							army_type = "ev_assault_army"
						}
					}
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 120
						angle = random
					}
				}
			}
			
			create_fleet = {
				effect = {
					
					add_modifier = {
						modifier = empty_vagrant_rebal_fleet_modifier
						multiplier = owner.ev_leader_rebal_strong
					}
					set_owner = event_target:is_ev_ship_rebel_country
					while = {
						count = 30
						create_ship = {
							name = random
							random_existing_design = corvette
						}
					}
					while = {
						count = 15
						create_ship = {
							name = random
							random_existing_design = destroyer
						}
					}
					while = {
						count = 10
						create_ship = {
							name = random
							random_existing_design = battleship
						}
					}
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 150
						angle = random
					}
				}
			}
		}

		root = {
			multiply_variable  = {
				which = ev_leader_rebal_strong
				value = 0.5
			}
		}
		
		add_modifier = {
			modifier = empty_vagrant_homeless_ship_ai_1
			days = 5400 mult = root.ev_leader_rebal_strong
		}

		root = {
			multiply_variable  = {
				which = ev_leader_rebal_strong
				value = 0.5
			}
		}
		while = {
			count = root.ev_leader_rebal_strong
			create_fleet = {
				effect = {
					add_modifier = {
						modifier = empty_vagrant_rebal_fleet_modifier
						multiplier = event_target:been_ship_traitor_country.ev_leader_rebal_strong
					}
					set_owner = event_target:is_ev_ship_rebel_country
					while = {
						count = 10
						create_ship = {
							name = random
							random_existing_design = corvette
						}
					}
					while = {
						count = 5
						create_ship = {
							name = random
							random_existing_design = destroyer
						}
					}
					while = {
						count = 2
						create_ship = {
							name = random
							random_existing_design = battleship
						}
					}
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 150
						angle = random
					}
				}
			}
		}

		root = {
			multiply_variable  = {
				which = ev_leader_rebal_strong
				value = 0.5
			}
		}
		
		while = {
			count = root.ev_leader_rebal_strong
			#工程船
			create_fleet = {
				effect = {
					set_owner = event_target:is_ev_ship_rebel_country
					#set_fleet_stance = passive
					create_ship = {
						name = random
						#random_existing_design = fathership
						random_existing_design = constructor
					}
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 150
						angle = random
					}
				}
			}
			#科研船
			create_fleet = {
				effect = {
					set_owner = event_target:is_ev_ship_rebel_country
					create_ship = {
						name = random
						random_existing_design = science
					}
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 200
						angle = random
					}
					owner = {
						create_leader = {
							class = scientist
							sub_type = survey
							name = random
							species = owner_main_species
						}
					}
					set_leader = last_created_leader
				}
			}
			#家园舰
			create_fleet = {
				effect = {
					set_owner = event_target:is_ev_ship_rebel_country
					while = {
						count = 1
						create_ship = {
							name = random
							design = "NAME_start_homeless_ship_course_starbase"
						}
					}
					starbase = {
						set_ship_construction_type = starbase_shipyard
					}
					set_fleet_stance = passive
					set_location = {
						target = event_target:ev_ship_rebel_location
						distance = 100
						angle = random
					}
				}
			}

			#获得领袖
			create_leader = {
				skill = 3
				class = scientist
				name = random
				species = owner_main_species
			}
			create_leader = {
				class = commander
				name = random
				skill = 4
				traits = {
					trait = leader_trait_gale_speed
					trait = leader_trait_trickster
				}
			}
			create_leader = {
				class = official
				skill = 2
			}
		}
	}
	
}

##############
#新的经济系统
#家园舰生产系统-V3.8
##############################
#key:"<生产类型>_<槽位大小（S/M/L）>+<等级类型（1/2/3）>_homeless_ship_<资源类型（矿物/能量币等）>_<生产/维护>_<add/mult>";
#变量: key + "_var";
#显示: "<生产类型>_<槽位大小（S/M/L）>+<等级类型（1/2/3）>_homeless_ship_<资源类型（矿物/能量币等）>_<生产/维护>_tooltip"
#key:minerals_S1_homeless_ship_minerals_produce_add;变量：minerals_S1_homeless_ship_minerals_produce_add_var;显示：minerals_S1_homeless_ship_minerals_produce_tooltip
TEV_count_new_ecom_system = { #VAR0 = 等级数 比如S1,M1  VAR1 = S级  VAR2 = M级  VAR3 = L级 
	#初始化多个维护费的
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = physics_research RESOURCE2 = energy }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = physics_research RESOURCE2 = food }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = physics_research RESOURCE2 = consumer_goods }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = unity RESOURCE2 = energy }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = unity RESOURCE2 = food }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = unity RESOURCE2 = consumer_goods }
	
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = minerals }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = food }

	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = rare_crystals RESOURCE2 = food }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = exotic_gases RESOURCE2 = food }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = volatile_motes RESOURCE2 = food }
	
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = rare_crystals RESOURCE2 = minerals }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = exotic_gases RESOURCE2 = minerals }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = volatile_motes RESOURCE2 = minerals }


	#稀有:S1:1;M1:2;L1:4
	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = rare_crystals }
	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = exotic_gases }
	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = volatile_motes }

	#if = {
	#	limit = { has_civic = civic_ev_catalytic_processing }
	#	#催化加工-消耗食物
	#	#稀有资源：（食物）
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = rare_crystals RESOURCE2 = food }
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = exotic_gases RESOURCE2 = food }
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = volatile_motes RESOURCE2 = food }
	#		 
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = rare_crystals RESOURCE2 = minerals }
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = exotic_gases RESOURCE2 = minerals }
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = volatile_motes RESOURCE2 = minerals }
	#	
	#}
	#else = { #稀有资源：（矿物）
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = rare_crystals RESOURCE2 = food }
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = exotic_gases RESOURCE2 = food }
	#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = volatile_motes RESOURCE2 = food }
	#	 
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = rare_crystals RESOURCE2 = minerals }
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = exotic_gases RESOURCE2 = minerals }
	#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = volatile_motes RESOURCE2 = minerals }
	#}
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = rare_crystals RESOURCE2 = minerals }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = exotic_gases RESOURCE2 = minerals }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = volatile_motes RESOURCE2 = minerals }
	
	if = {
		limit = { is_gestalt = no } #普通政体
		#生产：
		#一产:S1:6;M1:12;L1:24
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 5 VAR2 = 10 VAR3 = 20 RESOURCE = minerals }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = energy }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = food }

		#二产:S1:4;M1:8;L1:16（消费品翻倍）
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = alloys }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE = consumer_goods }

		#科研:S1:4;M1:8;L1:16
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = society_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = physics_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = engineering_research }
		#凝聚力:S1:3;M1:6;L1:12
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = unity }


		#维护费：
		#一产:S1:0;M1:0;L1:0
		
		#消费品：（矿物）:S1:8;M1:16;L1:32
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = consumer_goods RESOURCE2 = minerals }

		
		#if = {
		#	limit = { #稀有资源：
		#		has_civic = civic_ev_catalytic_processing
		#	}
		#	#合金：（食物）:S1:10;M1:20;L1:40
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = alloys RESOURCE2 = food }
		#	 
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}
		#else = {
		#	#合金：（矿物）:S1:8;M1:16;L1:32
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = food }
		#	 
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}	
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }

		#科研（总计）:S1:1;M1:2;L1:4----只计算一种：物理学
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE1 = physics_research RESOURCE2 = consumer_goods }
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 1 VAR2 = 2 VAR3 = 4 RESOURCE1 = physics_research RESOURCE2 = food }
		#凝聚力:S1:2;M1:4;L1:8
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 1 VAR2 = 2 VAR3 = 4 RESOURCE1 = unity RESOURCE2 = consumer_goods }
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 1 VAR2 = 2 VAR3 = 4 RESOURCE1 = unity RESOURCE2 = food }
	}
	else_if = {
		limit = { has_authority = auth_hive_mind }
		#生产：
		#一产:S1:6;M1:12;L1:24
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = minerals }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 5 VAR2 = 10 VAR3 = 20 RESOURCE = energy }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 7 VAR2 = 13 VAR3 = 26 RESOURCE = food }

		#二产:S1:4;M1:8;L1:16（消费品翻倍）
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = alloys }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE = consumer_goods }

		#科研:S1:4;M1:8;L1:16
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = society_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = physics_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = engineering_research }
		#凝聚力:S1:3;M1:6;L1:12
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = unity }



		#维护费：
		#一产:S1:0;M1:0;L1:0
		#合金：（矿物）:S1:8;M1:16;L1:32
		#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }

		

		#if = {
		#	limit = { #稀有资源：
		#		has_civic = civic_ev_catalytic_processing
		#	}
		#	#合金：（食物）:S1:10;M1:20;L1:40
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = alloys RESOURCE2 = food }
		#		 
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}
		#else = {
		#	#合金：（矿物）:S1:8;M1:16;L1:32
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = food }
		#		 
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}	
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }
		
		#消费品：（矿物）:S1:8;M1:16;L1:32
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = consumer_goods RESOURCE2 = minerals }

		#科研（每一种）-只计算物理学、
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 7 VAR2 = 14 VAR3 = 28 RESOURCE1 = physics_research RESOURCE2 = food }
		#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 3 VAR2 = 6 VAR3 = 12 RESOURCE1 = physics_research RESOURCE2 = food }


		#凝聚力:S1:2;M1:4;L1:8
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE1 = unity RESOURCE2 = food }
	}
	else_if = {
		limit = { has_authority = auth_machine_intelligence }
		#生产：
		#一产:S1:6;M1:12;L1:24
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = minerals }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = energy }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = food }

		#二产:S1:4;M1:8;L1:16（消费品翻倍）
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 5 VAR2 = 10 VAR3 = 20 RESOURCE = alloys }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE = consumer_goods }

		#科研:S1:4;M1:8;L1:16
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = society_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = physics_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = engineering_research }
		#凝聚力:S1:3;M1:6;L1:12
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = unity }
		#维护费：
		#一产:S1:0;M1:0;L1:0
		

		#if = {
		#	limit = { #稀有资源：
		#		has_civic = civic_ev_catalytic_processing
		#	}
		#	#合金：（食物）:S1:10;M1:20;L1:40
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 12.5 VAR2 = 25 VAR3 = 50 RESOURCE1 = alloys RESOURCE2 = food }
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}
		#else = {
		#	#合金：（矿物）:S1:8;M1:16;L1:32
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = food }
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}	
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = alloys RESOURCE2 = minerals }


		#合金：（矿物）:S1:8;M1:16;L1:32
		
		#消费品：（矿物）:S1:8;M1:16;L1:32
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = consumer_goods RESOURCE2 = minerals }

		#科研（每一种）-只计算物理学
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = physics_research RESOURCE2 = energy }
		#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = physics_research RESOURCE2 = food }
		#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = physics_research RESOURCE2 = consumer_goods }

		#凝聚力:S1:2;M1:4;L1:8
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE1 = unity RESOURCE2 = energy }
	}
	else = {
		#生产：
		#一产:S1:6;M1:12;L1:24
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = minerals }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = energy }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE = food }

		#二产:S1:4;M1:8;L1:16（消费品翻倍）
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = alloys }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE = consumer_goods }

		#科研:S1:4;M1:8;L1:16
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = society_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = physics_research }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = engineering_research }
		#凝聚力:S1:3;M1:6;L1:12
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE = unity }
		#维护费：
		#一产:S1:0;M1:0;L1:0
		#合金：（矿物）:S1:8;M1:16;L1:32
		

		#if = {
		#	limit = { #稀有资源：
		#		has_civic = civic_ev_catalytic_processing
		#	}
		#	#合金：（食物）:S1:10;M1:20;L1:40
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 10 VAR2 = 20 VAR3 = 40 RESOURCE1 = alloys RESOURCE2 = food }
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}
		#else = {
		#	#合金：（矿物）:S1:8;M1:16;L1:32
		#	#TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 0 VAR2 = 0 VAR3 = 0 RESOURCE1 = alloys RESOURCE2 = food }
		#	
		#	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }
		#}	
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = alloys RESOURCE2 = minerals }

		#消费品：（矿物）:S1:8;M1:16;L1:32
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 8 VAR2 = 16 VAR3 = 32 RESOURCE1 = consumer_goods RESOURCE2 = minerals }

		#科研（每一种）
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE1 = physics_research RESOURCE2 = energy }
		#凝聚力:S1:2;M1:4;L1:8
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 4 VAR2 = 8 VAR3 = 16 RESOURCE1 = unity RESOURCE2 = energy }
	}

	#人力资源
	if = {
		limit = { is_lithoid = yes  }
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = manpower }
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = manpower RESOURCE2 = minerals }
	}
	else_if = {
		limit = {
			OR = {
				is_species_class = ROBOT
				is_species_class = MACHINE
			}
		}
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = manpower }
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = manpower RESOURCE2 = energy }
	}
	else = {
		TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = manpower }
		TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 6 VAR2 = 12 VAR3 = 24 RESOURCE1 = manpower RESOURCE2 = food }
	}

	#通用的稀有资源
	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = dark_matter }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 30 VAR2 = 60 VAR3 = 120 RESOURCE1 = dark_matter RESOURCE2 = energy }

	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = sr_zro }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 30 VAR2 = 60 VAR3 = 120 RESOURCE1 = sr_zro RESOURCE2 = energy }
	
	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = nanites }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 30 VAR2 = 60 VAR3 = 120 RESOURCE1 = nanites RESOURCE2 = energy }

	TEV_new_ecom_system_set_var_resource_proudce = { VAR0 = 1 VAR1 = 2 VAR2 = 4 VAR3 = 8 RESOURCE = sr_living_metal }
	TEV_new_ecom_system_set_var_resource_upkeep = { VAR0 = 1 VAR1 = 30 VAR2 = 60 VAR3 = 120 RESOURCE1 = sr_living_metal RESOURCE2 = minerals }


	##########检测国策
	if = {
		limit = { 
			has_civic = civic_ev_catalytic_processing
		}
		TEV_new_ecom_system_exchange_civic_ev_catalytic_processing_add = yes
	}
	if = {
		limit = { 
			has_civic = civic_ev_industrial_production
		}
		TEV_new_ecom_system_exchange_civic_ev_industrial_production_add = yes
	}
	if = {
		limit = { 
			has_civic = civic_ev_ship_research
		}
		TEV_new_ecom_system_exchange_civic_ev_ship_research_add = yes
	}
}

TEV_new_ecom_system_set_var_resource_proudce = {

	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE$ SLOT = S  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR1$ }
	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE$ SLOT = M  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR2$ }
	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE$ SLOT = L  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR3$ }
}
TEV_new_ecom_system_set_var_resource_upkeep = {
	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE1$ SLOT = S  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR1$ }
	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE1$ SLOT = M  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR2$ }
	TEV_new_ecom_system_set_var = { TYPE = $RESOURCE1$ SLOT = L  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR3$ }
}

TEV_new_ecom_system_add_var_resource_proudce = {
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE$ SLOT = S  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR1$ }
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE$ SLOT = M  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR2$ }
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE$ SLOT = L  NUMBER = $VAR0$ RESOURCE = $RESOURCE$ PRODUCE = produce ADD = add VAR = $VAR3$ }
}
TEV_new_ecom_system_add_var_resource_upkeep = { #RESOURCE1生产的资源  RESOURCE2维护的资源
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE1$ SLOT = S  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR1$ }
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE1$ SLOT = M  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR2$ }
	TEV_new_ecom_system_add_var = { TYPE = $RESOURCE1$ SLOT = L  NUMBER = $VAR0$ RESOURCE = $RESOURCE2$ PRODUCE = upkeep ADD = add VAR = $VAR3$ }
}

#计算读取修正后的数值

TEV_new_ecom_system_set_var = {
	hidden_effect = {
		set_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE|minerals$_$PRODUCE|produce$_$ADD|add$_var
			VALUE = $VAR|1$
		}
	}
	
}

TEV_new_ecom_system_add_var = {
	hidden_effect = {
		change_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE|minerals$_$PRODUCE|produce$_$ADD|add$_var
			VALUE = $VAR|temp_var$
		}
	}
}
TEV_new_ecom_system_mult_var = {
	hidden_effect = {
		multiply_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE|minerals$_$PRODUCE|produce$_$ADD|add$_var
			VALUE = $VAR|temp_var$
		}
	}
}
TEV_new_ecom_system_divide_var = {
	hidden_effect = {
		divide_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE|minerals$_$PRODUCE|produce$_$ADD|add$_var
			VALUE = $VAR|temp_var$
		}
	}
}

##########交换维护费数值
#RESOURCE1 交换 RESOURCE2
TEV_new_ecom_system_exchange_civic_ev_catalytic_processing_remove = {
	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = S  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = S  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = S  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = S  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }

	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = M  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = M  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = M  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = M  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	
	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = L  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = L  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = L  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = L  NUMBER = 1 RESOURCE1 = minerals RESOURCE2 = food PRODUCE = upkeep ADD = add }
}
TEV_new_ecom_system_exchange_civic_ev_catalytic_processing_add = {
	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = S  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = S  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = S  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = S  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }

	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = M  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = M  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = M  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = M  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	
	TEV_new_ecom_system_exchange_var = { TYPE = alloys SLOT = L  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = exotic_gases SLOT = L  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = rare_crystals SLOT = L  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
	TEV_new_ecom_system_exchange_var = { TYPE = volatile_motes SLOT = L  NUMBER = 1 RESOURCE2 = minerals RESOURCE1 = food PRODUCE = upkeep ADD = add }
}
TEV_new_ecom_system_exchange_var = {
	hidden_effect = {
		set_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE1$_$PRODUCE$_$ADD$_var
			VALUE = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE2$_$PRODUCE$_$ADD$_var
		}
		set_variable = {
			which = $TYPE|minerals$_$SLOT|S$$NUMBER|1$_homeless_ship_$RESOURCE2$_$PRODUCE$_$ADD$_var
			VALUE = 0
		}
	}
}

#有无civic_ev_industrial_production
TEV_new_ecom_system_exchange_civic_ev_industrial_production_add = {
	TEV_new_ecom_system_mult_var = { TYPE = alloys SLOT = S  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = alloys SLOT = M  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = alloys SLOT = L  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_mult_var = { TYPE = consumer_goods SLOT = S  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = consumer_goods SLOT = M  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = consumer_goods SLOT = L  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	
}
TEV_new_ecom_system_exchange_civic_ev_industrial_production_remove = {
	TEV_new_ecom_system_divide_var = { TYPE = alloys SLOT = S  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = alloys SLOT = M  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = alloys SLOT = L  NUMBER = 1 RESOURCE = alloys PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_divide_var = { TYPE = consumer_goods SLOT = S  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = consumer_goods SLOT = M  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = consumer_goods SLOT = L  NUMBER = 1 RESOURCE = consumer_goods PRODUCE = produce ADD = add VAR = 1.2 }
	
}

#有无civic_ev_ship_research
TEV_new_ecom_system_exchange_civic_ev_ship_research_add = {
	TEV_new_ecom_system_mult_var = { TYPE = physics_research SLOT = S  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = physics_research SLOT = M  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = physics_research SLOT = L  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_mult_var = { TYPE = society_research SLOT = S  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = society_research SLOT = M  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = society_research SLOT = L  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_mult_var = { TYPE = engineering_research SLOT = S  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = engineering_research SLOT = M  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_mult_var = { TYPE = engineering_research SLOT = L  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
}
TEV_new_ecom_system_exchange_civic_ev_ship_research_remove = {
	TEV_new_ecom_system_divide_var = { TYPE = physics_research SLOT = S  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = physics_research SLOT = M  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = physics_research SLOT = L  NUMBER = 1 RESOURCE = physics_research PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_divide_var = { TYPE = society_research SLOT = S  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = society_research SLOT = M  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = society_research SLOT = L  NUMBER = 1 RESOURCE = society_research PRODUCE = produce ADD = add VAR = 1.2 }

	TEV_new_ecom_system_divide_var = { TYPE = engineering_research SLOT = S  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = engineering_research SLOT = M  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
	TEV_new_ecom_system_divide_var = { TYPE = engineering_research SLOT = L  NUMBER = 1 RESOURCE = engineering_research PRODUCE = produce ADD = add VAR = 1.2 }
}
###############计算岗位加成的buff数量
count_planet_jobs_proudce_buff = {
	#全产buff算全部
	#set_variable = {
	#	which = evmod_planet_jobs_produces_mult
	#	value = 0
	#}
	#set_variable = {
	#	which = evmod_planet_jobs_upkeep_mult
	#	value = 0
	#}
	#export_modifier_to_variable = {
	#	modifier = planet_jobs_produces_mult
	#	variable = evmod_planet_jobs_produces_mult
	#}
	#export_modifier_to_variable = {
	#	modifier = planet_jobs_upkeep_mult
	#	variable = evmod_planet_jobs_upkeep_mult
	#}
	#random_owned_pop_group = {
	#	limit = {
	#		species = {
	#			is_same_species = prevprev
	#		}
	#	}
	#	set_variable = {
	#		which = evmod_planet_jobs_produces_mult
	#		value = 0
	#	}
	#	set_variable = {
	#		which = evmod_planet_jobs_upkeep_mult
	#		value = 0
	#	}
	#	export_modifier_to_variable = {
	#		modifier = planet_jobs_produces_mult
	#		variable = evmod_planet_jobs_produces_mult
	#	}
	#	export_modifier_to_variable = {
	#		modifier = planet_jobs_upkeep_mult
	#		variable = evmod_planet_jobs_upkeep_mult
	#	}
	#	owner = {
	#		change_variable = {
	#			which = evmod_planet_jobs_produces_mult
	#			value = prev.evmod_planet_jobs_produces_mult
	#		}
	#		change_variable = {
	#			which = evmod_planet_jobs_upkeep_mult
	#			value = prev.evmod_planet_jobs_upkeep_mult
	#		}
	#	}
	#	
	#}
	#owner_main_species = {
	#	export_modifier_to_variable = {
	#		modifier = planet_jobs_produces_mult
	#		variable = evmod_planet_jobs_produces_mult
	#	}
	#	export_modifier_to_variable = {
	#		modifier = planet_jobs_upkeep_mult
	#		variable = evmod_planet_jobs_upkeep_mult
	#	}
	#	change_variable = {
	#		which = owner.evmod_planet_jobs_produces_mult
	#		value = evmod_planet_jobs_produces_mult
	#	}
	#	change_variable = {
	#		which = owner.evmod_planet_jobs_upkeep_mult
	#		value = evmod_planet_jobs_upkeep_mult
	#	}
	#}

	count_planet_jobs_resource_proudce_buff = { RESOURCE = energy }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = minerals }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = food }
	
	count_planet_jobs_resource_proudce_buff = { RESOURCE = alloys }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = consumer_goods }
	
	count_planet_jobs_resource_proudce_buff = { RESOURCE = society_research }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = physics_research }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = engineering_research }

	count_planet_jobs_resource_proudce_buff = { RESOURCE = exotic_gases }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = rare_crystals }
	count_planet_jobs_resource_proudce_buff = { RESOURCE = volatile_motes }

	count_planet_jobs_resource_proudce_buff = { RESOURCE = unity }  
}
count_planet_jobs_resource_proudce_buff = {
	#mult
	#生产
	set_variable = {
		which = evmod_planet_jobs_$RESOURCE|minerals$_produces_mult
		value = value:ev_count_modifier_to_variable_produces_mult|RESOURCE|$RESOURCE|minerals$|
	}
	remove_modifier = ev_buff_homeless_ship_proude_$RESOURCE|minerals$_mult
	add_modifier = {
		modifier = ev_buff_homeless_ship_proude_$RESOURCE|minerals$_mult
		mult = evmod_planet_jobs_$RESOURCE|minerals$_produces_mult
	}
	#维护费
	set_variable = {
		which = evmod_planet_jobs_$RESOURCE|minerals$_upkeep_mult
		value = value:ev_count_modifier_to_variable_upkeep_mult|RESOURCE|$RESOURCE|minerals$|
	}
	remove_modifier = ev_buff_homeless_ship_upkeep_$RESOURCE|minerals$_mult
	add_modifier = {
		modifier = ev_buff_homeless_ship_upkeep_$RESOURCE|minerals$_mult
		mult = evmod_planet_jobs_$RESOURCE|minerals$_upkeep_mult
	}

	#add
	#生产
	set_variable = {
		which = evmod_planet_jobs_$RESOURCE|minerals$_produces_add
		value = value:ev_count_modifier_to_variable_produces_add|RESOURCE|$RESOURCE|minerals$|
	}
	remove_modifier = ev_buff_homeless_ship_proude_$RESOURCE|minerals$_add
	add_modifier = {
		modifier = ev_buff_homeless_ship_proude_$RESOURCE|minerals$_add
		mult = evmod_planet_jobs_$RESOURCE|minerals$_produces_add
	}
	#维护费
	set_variable = {
		which = evmod_planet_jobs_$RESOURCE|minerals$_upkeep_add
		value = value:ev_count_modifier_to_variable_upkeep_add|RESOURCE|$RESOURCE|minerals$|
	}
	remove_modifier = ev_buff_homeless_ship_upkeep_$RESOURCE|minerals$_add
	add_modifier = {
		modifier = ev_buff_homeless_ship_upkeep_$RESOURCE|minerals$_add
		mult = evmod_planet_jobs_$RESOURCE|minerals$_upkeep_add
	}
}

