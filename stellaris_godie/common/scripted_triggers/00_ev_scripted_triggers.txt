#	Example:
#
#	example_trigger = {
#		is_country_type = default
#		num_communications > 0
#	}
#
#
#	In a script file:
#
#	trigger = {
#		example_trigger = yes
#	}
#
can_be_ev_trade_fleet_trade = {
	is_robot_pop_group = no
}

can_be_ev_investment_country = {
	is_country_type = default
	is_hive_empire = no
	is_machine_empire = no
	num_owned_planets > 0
	opinion = {
		who = root
		value > -99
	}
	NOT = {
		is_at_war_with = root
	}
	NOR = {
		has_ethic = ethic_fanatic_xenophobe
		has_civic = civic_fanatic_purifiers
		has_civic = civic_hive_devouring_swarm
		has_civic = civic_machine_terminator
	}
	has_communications = ROOT
	NOT = {
		has_country_flag = ev_received_an_investment
	}
	is_ai = yes
}

is_ev_need_fleet_country_base_1 = {
	is_ai = yes
	NOR = {
		is_at_war_with = ROOT
		is_hostile_to = ROOT
		is_domineering_to = ROOT
		is_unfriendly_to = ROOT
		is_rival = ROOT
		ROOT = {
			is_rival = THIS
		}
	}
	has_communications = ROOT
}

is_ev_need_fleet_country_base_3 = {
	OR = {
		AND = {
			is_at_war = yes
			defender_war_exhaustion > 0.05
		}
		AND = {
			is_at_war = yes
			attacker_war_exhaustion > 0.2
		}
		used_naval_capacity_percent < 0.8
	}
}

#是任意一个家园舰
is_any_type_homeless_ship = {
	OR = {
		is_ship_size = homeless_ship
		is_ship_size = homeless_ship_starbase
		is_ship_size = private_homeless_ship
		is_ship_size = private_homeless_ship_starbase
		is_ship_size = megastructures_homeless_ship
		is_ship_size = mini_homeless_ship
	}
}

#是任意一个家园舰-船坞
is_any_type_homeless_ship_starbase = {
	OR = {
		is_ship_size = homeless_ship_starbase
		is_ship_size = private_homeless_ship_starbase
		is_ship_size = megastructures_homeless_ship
	}
}

is_default_ev_ai = {
	always = yes
}

ev_is_ringworld = {
	OR = {
		is_planet_class = pc_ringworld_habitable_sh
		is_planet_class = pc_ringworld_habitable_wsg
		is_planet_class = pc_golden_world_habitable
		is_planet_class = pc_goodman_gaia_world
		is_planet_class = pc_omega_ringworld_seam
		is_planet_class = pc_omega_ringworld_habitable
		is_planet_class = pc_golden_fortress
		is_planet_class = pc_golden_world_habitable
		is_planet_class = pc_ringworld_habitable
		is_planet_class = pc_ringworld_tech
		AND = {
			has_global_flag = has_ancient_empire_mod
			is_planet_class = pc_ag_ringworld_city
		}
		AND = {
			has_global_flag = has_ancient_empire_mod
			is_planet_class = pc_ag_ringworld_ocean
		}
		AND = {
			has_global_flag = has_ancient_empire_mod
			is_planet_class = pc_ag_ringworld_shrouded
		}
		AND = {
			has_global_flag = has_ancient_empire_mod
			is_planet_class = pc_ag_ringworld_machine
		}
		is_planet_class = pc_ringworld_habitable
		is_planet_class = pc_ringworld_city
		is_planet_class = pc_ringworld_machine
		is_planet_class = pc_ringworld_hive 
		is_planet_class = pc_city_ringworld_habitable
		is_planet_class = pc_gigaorbital_ring
		is_planet_class = pc_giga_ringworld_habitable
		is_planet_class = pc_ringworld_eco_city 
		is_planet_class = pc_ringworld_energy_city 
		is_planet_class = pc_ringworld_shrouded_paradise 
		is_planet_class = pc_square_ringworld_city 
		is_planet_class = pc_square_ringworld_energy_city 
		is_planet_class = pc_square_ringworld_machine 
		is_planet_class = pc_square_ringworld_hive 
		is_planet_class = pc_ringworld_assimilated 
		is_planet_class = pc_ringworld_assimilated2 
		is_planet_class = pc_ringworld_assimilated3 
		is_planet_class = pc_ringworld_assimilated4 
		is_planet_class = pc_ringworld_machine_factory 
		is_planet_class = pc_ringworld_bioforge 
		is_planet_class = pc_ringworld_mining 
		is_planet_class = pc_ringworld_energy 
		is_planet_class = pc_ringworld_trade 
		is_planet_class = pc_ringworld_training 
		is_planet_class = pc_ringworld_training_shielded 
		is_planet_class = pc_ringworld_eco 
		is_planet_class = pc_ringworld_farming 
		is_planet_class = pc_ringworld_razed_city 
		is_planet_class = pc_ringworld_razed_energy 
		is_planet_class = pc_ringworld_razed_farming 
		is_planet_class = pc_ringworld_razed_mining 
		is_planet_class = pc_ringworld_razed_training 
		is_planet_class = pc_ringworld_razed_eco 	
		is_planet_class = pc_omega_ringworld_seam
		is_planet_class = pc_omega_ringworld_habitable
	}
}

ev_is_habitat = {
	OR = {
		is_planet_class = pc_habitat
		is_planet_class = pc_flat_world
		is_planet_class = pc_squareworld_habitable
		is_planet_class = pc_interstellar_habitat
		is_planet_class = pc_mem_vazuran_habitat
		is_planet_class = pc_habitat_robot
		is_planet_class = pc_gghab
		is_planet_class = pc_tmhab
		is_planet_class = pc_tmhab2
		is_planet_class = pc_mmhab
		is_planet_class = pc_mmhab2
		is_planet_class = pc_bhab
		is_planet_class = pc_bchab
		is_planet_class = pc_mhab
		is_planet_class = pc_fhab
		is_planet_class = pc_fmhab
		is_planet_class = pc_mehab
	}
}

has_total_war_cb = {
	OR = {
		#attacker checks
		AND = {
			OR = {
				is_country_type = default
				is_country_type = default_ev
				is_country_type = awakened_fallen_empire
				is_country_type = fallen_empire
			}
			OR = {
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_assimilator
				AND = {
					has_valid_civic = civic_machine_terminator
					from = {
						NOR = {
							has_country_flag = synthetic_empire
							has_authority = auth_machine_intelligence
						}
					}
				}
				AND = {
					has_valid_civic = civic_fanatic_purifiers
					NOT = { is_same_species = from }
				}
			}
		}
		#end threat checks
		AND = {
			OR = {
				is_country_type = default_ev
				is_country_type = default
			}
			NOR = {
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_assimilator
				has_valid_civic = civic_machine_terminator
			}
			from = {
				OR = {
					is_country_type = awakened_fallen_empire
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_hive_devouring_swarm
					has_valid_civic = civic_machine_assimilator
					has_valid_civic = civic_machine_terminator
				}
			}
		}
	}
}

is_default_ev_country_type = {
	OR = {
		has_country_flag = can_build_homeless_in_default
		has_country_flag = default_ev_flag
		is_country_type = default_ev
		AND = {
			has_civic = civic_empty_vagrant
			is_country_type = default
		}
	}
}
is_default_fallen_ev_country_type = {
	OR = {
		has_country_flag = fallen_empire_ev_flag
		is_country_type = fallen_empire_ev
		is_country_type = awakened_fallen_empire_ev
		is_country_type = awakened_fallen_empire_event
	}
}

#判断轨道上的地块
ev_orbit_any_minerals_proudce = {
	orbit = {
		OR = {
			
			has_deposit = d_minerals_1
			has_deposit = d_minerals_2
			has_deposit = d_minerals_3
			has_deposit = d_minerals_4
			has_deposit = d_minerals_5
			has_deposit = d_minerals_6
			has_deposit = d_minerals_7
			has_deposit = d_minerals_8
			has_deposit = d_minerals_9
			has_deposit = d_minerals_10
		}
	}
}
ev_orbit_any_energy_proudce = {
	orbit = {
		OR = {
			has_deposit = d_energy_1
			has_deposit = d_energy_2
			has_deposit = d_energy_3
			has_deposit = d_energy_4
			has_deposit = d_energy_5
			has_deposit = d_energy_6
			has_deposit = d_energy_7
			has_deposit = d_energy_8
			has_deposit = d_energy_9
			has_deposit = d_energy_10
		}
	}
}