

@very_low_strength	= 1
@low_strength		= 2
@medium_strength	= 3
@high_strength		= 4
@very_high_strength	= 5

@basic_cloaking_weight			= 5
@advanced_cloaking_weight		= 10
@elite_cloaking_weight			= 15
@dark_matter_cloaking_weight	= 20
@psi_cloaking_weight			= 25


@homeless_power_1 = 800 #1000
@homeless_power_2 = 1500 #2000 #1800
@homeless_power_3 = 2800 #4500 #3400
@homeless_power_4 = 4500 #8000 #6000
@homeless_power_5 = 8000  #15000 #10500
@homeless_power_6 = 14500 #28000 #14500
@homeless_power_7 = 25000 #55000 #18000

@homeless_power_esc_6 = 40000 #14500
@homeless_power_esc_7 = 70000 #20000
@homeless_power_esc_8 = 100000 #25000
@homeless_power_esc_9 = 130000 #32000
@homeless_power_esc_10 = 160000 #38000

@homeless_meg_power_5 = 20000 #70000
@homeless_meg_power_6 = 35000 #90000
@homeless_meg_power_7 = 55000 #140000

@homeless_meg_power_esc_6 = 75000 #100000
@homeless_meg_power_esc_7 = 100000 #140000
@homeless_meg_power_esc_8 = 160000 #200000
@homeless_meg_power_esc_9 = 250000 #250000
@homeless_meg_power_esc_10 = 400000 # 300000

@cost1 = 3
@cost2 = 6
@cost3 = 9
@cost4 = 12
@cost5 = 15
@power_1 = -10
@power_2 = -15
@power_3 = -20
@power_4 = -25
@power_5 = -30
@destroyer_power_1 = -20
@destroyer_power_2 = -30
@destroyer_power_3 = -40
@destroyer_power_4 = -50
@destroyer_power_5 = -60
@cruiser_power_1 = -40
@cruiser_power_2 = -60
@cruiser_power_3 = -80
@cruiser_power_4 = -100
@cruiser_power_5 = -120
@battleship_power_1 = -80
@battleship_power_2 = -120
@battleship_power_3 = -160
@battleship_power_4 = -200
@battleship_power_5 = -240
@titan_power_1 = -160
@titan_power_2 = -240
@titan_power_3 = -320
@titan_power_4 = -400
@titan_power_5 = -480
@colossus_power_1 = -200
@colossus_power_2 = -300
@colossus_power_3 = -400
@colossus_power_4 = -500
@colossus_power_5 = -600
@destroyer_cost1 = 6
@destroyer_cost2 = 12
@destroyer_cost3 = 18
@destroyer_cost4 = 24
@destroyer_cost5 = 30
@cruiser_cost1 = 12
@cruiser_cost2 = 24
@cruiser_cost3 = 36
@cruiser_cost4 = 48
@cruiser_cost5 = 60
@battleship_cost1 = 24
@battleship_cost2 = 48
@battleship_cost3 = 72
@battleship_cost4 = 96
@battleship_cost5 = 120
@titan_cost1 = 48
@titan_cost2 = 96
@titan_cost3 = 144
@titan_cost4 = 192
@titan_cost5 = 240
@colossus_cost1 = 60
@colossus_cost2 = 120
@colossus_cost3 = 180
@colossus_cost4 = 240
@colossus_cost5 = 300
######################

utility_component_template = {
	key = "HOMELESS_NONE_REACTOR"
	size = small
	icon = "GFX_ship_part_empty_ftl_drive"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	ai_weight = {
		weight = 0
	}
}
utility_component_template = {
	key = "HOMELESS_FISSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_1"
	icon_frame = 1
	power = @homeless_power_1
	resources = {
		category = ship_components
		cost = {
			alloys = 75
		}
		upkeep = {
			energy = 2.5
			alloys = 0.08
		}
	}
	prerequisites = {
		"tech_fission_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_FUSION_REACTOR"
	ai_weight = {
		weight = 1
	}
}

utility_component_template = {
	key = "HOMELESS_FUSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_2"
	icon_frame = 1
	power = @homeless_power_2
	resources = {
		category = ship_components
		cost = {
			alloys = 120
		}
		upkeep = {
			energy = 4
			alloys = 0.104
		}
	}
	prerequisites = {
		"tech_fusion_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
	}
	upgrades_to = "HOMELESS_COLD_FUSION_REACTOR"
	ai_weight = {
		weight = 2
	}
}

utility_component_template = {
	key = "HOMELESS_COLD_FUSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_3"
	icon_frame = 1
	power = @homeless_power_3
	resources = {
		category = ship_components
		cost = {
			alloys = 265
		}
		upkeep = {
			energy = 6
			alloys = 0.135
		}
	}
	prerequisites = {
		"tech_cold_fusion_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
	}
	upgrades_to = "HOMELESS_ANTIMATTER_REACTOR"
	ai_weight = {
		weight = 3
	}
}

utility_component_template = {
	key = "HOMELESS_ANTIMATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_4"
	icon_frame = 1
	power = @homeless_power_4
	resources = {
		category = ship_components
		cost = {
			alloys = 535
		}
		upkeep = {
			energy = 9
			alloys = 0.176
		}
	}
	prerequisites = {
		"tech_antimatter_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
	}
	upgrades_to = "HOMELESS_ZERO_POINT_REACTOR"
	ai_weight = {
		weight = 4
	}
}

utility_component_template = {
	key = "HOMELESS_ZERO_POINT_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_5"
	icon_frame = 1
	power = @homeless_power_5
	resources = {
		category = ship_components
		cost = {
			alloys = 980
		}
		upkeep = {
			energy = 14
			alloys = 0.229
		}
	}
	prerequisites = {
		"tech_zero_point_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
	}
	upgrades_to = "HOMELESS_DARK_MATTER_REACTOR"
	ai_weight = {
		weight = 5
	}
}

utility_component_template = {
	key = "HOMELESS_DARK_MATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core"
	icon_frame = 1
	power = @homeless_power_6
	resources = {
		category = ship_components
		cost = {
			alloys = 1360
			sr_dark_matter = 8
		}
		upkeep = {
			energy = 20
			alloys = 0.298
		}
	}
	prerequisites = {
		"tech_dark_matter_power_core"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
	}
	ai_weight = {
		weight = 6
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

#给巨型写的
utility_component_template = {
	key = "HOMELESS_MEG_ZERO_POINT_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_5"
	icon_frame = 1
	power = @homeless_meg_power_5
	resources = {
		category = ship_components
		cost = {
			alloys = 1800
		}
		upkeep = {
			energy = 100
			alloys = 2
		}
	}
	prerequisites = {
		"tech_zero_point_power"
	}
	component_set = "power_core"
	size_restriction = {
		"megastructures_homeless_ship"
	}
	upgrades_to = "HOMELESS_DARK_MATTER_REACTOR"
	ai_weight = {
		weight = 5
	}
}

utility_component_template = {
	key = "HOMELESS_MEG_DARK_MATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core"
	icon_frame = 1
	power = @homeless_meg_power_6
	resources = {
		category = ship_components
		cost = {
			alloys = 2500
			sr_dark_matter = 8
		}
		upkeep = {
			energy = 150
			alloys = 5
		}
	}
	prerequisites = {
		"tech_dark_matter_power_core"
	}
	component_set = "power_core"
	size_restriction = {
		"megastructures_homeless_ship"
	}
	ai_weight = {
		weight = 6
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

#####ESC
#普通
utility_component_template = {
	key = "EV_CORVETTE_NHSC_ADV_REACTOR_1"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_6"
	icon_frame = 1
	power = @homeless_power_esc_6

	resources = {
		category = ship_components
		cost = {
			alloys = 1200
		}
		upkeep = {
			energy = @corvette_upkeep_energy_6
			alloys = @corvette_upkeep_alloys_6
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_1" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_CORVETTE_NHSC_ADV_REACTOR_2"

	ai_weight = {
		weight = 6
	}
}


utility_component_template = {
	key = "EV_CORVETTE_NHSC_ADV_REACTOR_2"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_7"
	icon_frame = 1
	power = @homeless_power_esc_7

	resources = {
		category = ship_components
		cost = {
			alloys = 1800
		}
		upkeep = {
			energy = @corvette_upkeep_energy_7
			alloys = @corvette_upkeep_alloys_7
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_2" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_CORVETTE_NHSC_ADV_REACTOR_3"

	ai_weight = {
		weight = 6
	}
}

utility_component_template = {
	key = "EV_CORVETTE_NHSC_ADV_REACTOR_3"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_8"
	icon_frame = 1
	power = @homeless_power_esc_8

	resources = {
		category = ship_components
		cost = {
			alloys = 2400
		}
		upkeep = {
			energy = @corvette_upkeep_energy_8
			alloys = @corvette_upkeep_alloys_8
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_3" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core"
	

	ai_weight = {
		weight = 6
	}
}



utility_component_template = {
	key = "EV_CORVETTE_NHSC_DARK_MATTER_CORE_2"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_2"
	icon_frame = 1
	power = @homeless_power_esc_9

	resources = {
		category = ship_components
		cost = {
			alloys = 3000
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.05
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_2" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_CORVETTE_NHSC_DARK_MATTER_CORE_3"

	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

utility_component_template = {
	key = "EV_CORVETTE_NHSC_DARK_MATTER_CORE_3"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_3"
	icon_frame = 1
	power = @homeless_power_esc_10

	resources = {
		category = ship_components
		cost = {
			alloys = 3450
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.1
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_3" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core"
	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

###ESC,巨型

utility_component_template = {
	key = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_1"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_6"
	icon_frame = 1
	power = @homeless_meg_power_esc_6

	resources = {
		category = ship_components
		cost = {
			alloys = 2400
		}
		upkeep = {
			energy = @corvette_upkeep_energy_6
			alloys = @corvette_upkeep_alloys_6
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_1" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_2"

	ai_weight = {
		weight = 6
	}
}


utility_component_template = {
	key = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_2"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_7"
	icon_frame = 1
	power = @homeless_meg_power_esc_7

	resources = {
		category = ship_components
		cost = {
			alloys = 3500
		}
		upkeep = {
			energy = @corvette_upkeep_energy_7
			alloys = @corvette_upkeep_alloys_7
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_2" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_3"

	ai_weight = {
		weight = 6
	}
}

utility_component_template = {
	key = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_3"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_8"
	icon_frame = 1
	power = @homeless_meg_power_esc_8

	resources = {
		category = ship_components
		cost = {
			alloys = 4600
		}
		upkeep = {
			energy = @corvette_upkeep_energy_8
			alloys = @corvette_upkeep_alloys_8
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_3" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core"
	

	ai_weight = {
		weight = 6
	}
}



utility_component_template = {
	key = "EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_2"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_2"
	icon_frame = 1
	power = @homeless_meg_power_esc_9

	resources = {
		category = ship_components
		cost = {
			alloys = 5700
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.05
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_2" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_3"

	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

utility_component_template = {
	key = "EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_3"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_3"
	icon_frame = 1
	power = @homeless_meg_power_esc_10

	resources = {
		category = ship_components
		cost = {
			alloys = 7200
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.1
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_3" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core"
	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}
#########################################################
##第二引擎

######################

utility_component_template = {
	key = "EV_HOMELESS_FISSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_1"
	icon_frame = 1
	power = @homeless_power_1
	resources = {
		category = ship_components
		cost = {
			alloys = 75
		}
		upkeep = {
			energy = 2.5
			alloys = 0.08
		}
	}
	prerequisites = {
		"tech_fission_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_FUSION_REACTOR"
	ai_weight = {
		weight = 1
	}
}

utility_component_template = {
	key = "EV_HOMELESS_FUSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_2"
	icon_frame = 1
	power = @homeless_power_2
	resources = {
		category = ship_components
		cost = {
			alloys = 120
		}
		upkeep = {
			energy = 4
			alloys = 0.104
		}
	}
	prerequisites = {
		"tech_fusion_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_COLD_FUSION_REACTOR"
	ai_weight = {
		weight = 2
	}
}

utility_component_template = {
	key = "EV_HOMELESS_COLD_FUSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_3"
	icon_frame = 1
	power = @homeless_power_3
	resources = {
		category = ship_components
		cost = {
			alloys = 265
		}
		upkeep = {
			energy = 6
			alloys = 0.135
		}
	}
	prerequisites = {
		"tech_cold_fusion_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_ANTIMATTER_REACTOR"
	ai_weight = {
		weight = 3
	}
}

utility_component_template = {
	key = "EV_HOMELESS_ANTIMATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_4"
	icon_frame = 1
	power = @homeless_power_4
	resources = {
		category = ship_components
		cost = {
			alloys = 535
		}
		upkeep = {
			energy = 9
			alloys = 0.176
		}
	}
	prerequisites = {
		"tech_antimatter_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_ZERO_POINT_REACTOR"
	ai_weight = {
		weight = 4
	}
}

utility_component_template = {
	key = "EV_HOMELESS_ZERO_POINT_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_5"
	icon_frame = 1
	power = @homeless_power_5
	resources = {
		category = ship_components
		cost = {
			alloys = 980
		}
		upkeep = {
			energy = 14
			alloys = 0.229
		}
	}
	prerequisites = {
		"tech_zero_point_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_DARK_MATTER_REACTOR"
	ai_weight = {
		weight = 5
	}
}

utility_component_template = {
	key = "EV_HOMELESS_DARK_MATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core"
	icon_frame = 1
	power = @homeless_power_6
	resources = {
		category = ship_components
		cost = {
			alloys = 1360
			sr_dark_matter = 8
		}
		upkeep = {
			energy = 20
			alloys = 0.298
		}
	}
	prerequisites = {
		"tech_dark_matter_power_core"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	ai_weight = {
		weight = 6
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

#给巨型写的
utility_component_template = {
	key = "EV_HOMELESS_MEG_ZERO_POINT_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_5"
	icon_frame = 1
	power = @homeless_meg_power_5
	resources = {
		category = ship_components
		cost = {
			alloys = 1800
		}
		upkeep = {
			energy = 100
			alloys = 2
		}
	}
	prerequisites = {
		"tech_zero_point_power"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"megastructures_homeless_ship"
	}
	upgrades_to = "HOMELESS_DARK_MATTER_REACTOR"
	ai_weight = {
		weight = 5
	}
}

utility_component_template = {
	key = "EV_HOMELESS_MEG_DARK_MATTER_REACTOR"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core"
	icon_frame = 1
	power = @homeless_meg_power_6
	resources = {
		category = ship_components
		cost = {
			alloys = 2500
			sr_dark_matter = 8
		}
		upkeep = {
			energy = 150
			alloys = 5
		}
	}
	prerequisites = {
		"tech_dark_matter_power_core"
	}
	component_set = "power_core_ev"
	size_restriction = {
		"megastructures_homeless_ship"
	}
	ai_weight = {
		weight = 6
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

#####ESC
#普通
utility_component_template = {
	key = "EV_EV_CORVETTE_NHSC_ADV_REACTOR_1"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_6"
	icon_frame = 1
	power = @homeless_power_esc_6

	resources = {
		category = ship_components
		cost = {
			alloys = 1200
		}
		upkeep = {
			energy = @corvette_upkeep_energy_6
			alloys = @corvette_upkeep_alloys_6
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_1" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_CORVETTE_NHSC_ADV_REACTOR_2"

	ai_weight = {
		weight = 6
	}
}


utility_component_template = {
	key = "EV_EV_CORVETTE_NHSC_ADV_REACTOR_2"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_7"
	icon_frame = 1
	power = @homeless_power_esc_7

	resources = {
		category = ship_components
		cost = {
			alloys = 1800
		}
		upkeep = {
			energy = @corvette_upkeep_energy_7
			alloys = @corvette_upkeep_alloys_7
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_2" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_CORVETTE_NHSC_ADV_REACTOR_3"

	ai_weight = {
		weight = 6
	}
}

utility_component_template = {
	key = "EV_EV_CORVETTE_NHSC_ADV_REACTOR_3"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_8"
	icon_frame = 1
	power = @homeless_power_esc_8

	resources = {
		category = ship_components
		cost = {
			alloys = 2400
		}
		upkeep = {
			energy = @corvette_upkeep_energy_8
			alloys = @corvette_upkeep_alloys_8
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_3" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core_ev"
	

	ai_weight = {
		weight = 6
	}
}



utility_component_template = {
	key = "EV_EV_CORVETTE_NHSC_DARK_MATTER_CORE_2"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_2"
	icon_frame = 1
	power = @homeless_power_esc_9

	resources = {
		category = ship_components
		cost = {
			alloys = 3000
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.05
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_2" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_CORVETTE_NHSC_DARK_MATTER_CORE_3"

	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

utility_component_template = {
	key = "EV_EV_CORVETTE_NHSC_DARK_MATTER_CORE_3"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_3"
	icon_frame = 1
	power = @homeless_power_esc_10

	resources = {
		category = ship_components
		cost = {
			alloys = 3450
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.1
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_3" }
	size_restriction = {
		"ev_ambassador_ship"
		"ev_fleet_size_ship"
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	component_set = "power_core_ev"
	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

###ESC,巨型

utility_component_template = {
	key = "EV_EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_1"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_6"
	icon_frame = 1
	power = @homeless_meg_power_esc_6

	resources = {
		category = ship_components
		cost = {
			alloys = 2400
		}
		upkeep = {
			energy = @corvette_upkeep_energy_6
			alloys = @corvette_upkeep_alloys_6
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_1" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_2"

	ai_weight = {
		weight = 6
	}
}


utility_component_template = {
	key = "EV_EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_2"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_7"
	icon_frame = 1
	power = @homeless_meg_power_esc_7

	resources = {
		category = ship_components
		cost = {
			alloys = 3500
		}
		upkeep = {
			energy = @corvette_upkeep_energy_7
			alloys = @corvette_upkeep_alloys_7
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_2" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_3"

	ai_weight = {
		weight = 6
	}
}

utility_component_template = {
	key = "EV_EV_HOMELESS_CORVETTE_NHSC_ADV_REACTOR_3"
	size = small
	icon = "GFX_ship_part_reactor_nhsc_8"
	icon_frame = 1
	power = @homeless_meg_power_esc_8

	resources = {
		category = ship_components
		cost = {
			alloys = 4600
		}
		upkeep = {
			energy = @corvette_upkeep_energy_8
			alloys = @corvette_upkeep_alloys_8
		}
	}

	prerequisites = { "nhsc_tech_advanced_reactor_3" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core_ev"
	

	ai_weight = {
		weight = 6
	}
}



utility_component_template = {
	key = "EV_EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_2"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_2"
	icon_frame = 1
	power = @homeless_meg_power_esc_9

	resources = {
		category = ship_components
		cost = {
			alloys = 5700
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.05
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_2" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core_ev"
	upgrades_to = "EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_3"

	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}

utility_component_template = {
	key = "EV_EV_HOMELESS_CORVETTE_NHSC_DARK_MATTER_CORE_3"
	size = small
	icon = "GFX_ship_part_nhsc_enigmatic_core_3"
	icon_frame = 1
	power = @homeless_meg_power_esc_10

	resources = {
		category = ship_components
		cost = {
			alloys = 7200
			sr_dark_matter = 1.5
		}
	}

	modifier = {
		ships_upkeep_mult = -0.1
	}

	prerequisites = { "nhsc_tech_dark_matter_power_core_3" }
	size_restriction = {
		"megastructures_homeless_ship"
	}
	component_set = "power_core_ev"
	ai_weight = {
		weight = 10
		### AI shouldn't use this component if it can't afford at least some upgrades right away
		modifier = {
			factor = 0
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value < 100
			}
		}
	}
}




###################################################


#引导船跃迁引擎

### Jump drives
utility_component_template = {
	key = "EV_BEACON_JUMP_DRIVE_1"
	size = small
	icon = "GFX_ship_part_psi_jump_drive_1"
	icon_frame = 1
	power = 10
	hidden = yes
	resources = {
		category = ship_components
		cost = {
			alloys = @cost4
		}
	}
	ftl = yes
	jumpdrive = yes
	ship_modifier = {
		ship_windup_mult = -0.99
		ship_ftl_jumpdrive_range_mult = 10
	}
	
	ai_weight = {
		weight = -100
	}

	size_restriction = {
		"ev_beacon"
	}
	component_set = "ftl_components"
}

weapon_component_template = { # World Cracker
	key = "EV_STRATEGIC_STRIKE_SYSTEM"
	size = extra_large
	type = instant
	power = -1500
	firing_arc = 25.0
	min_range = 15.0
	static_rotation = yes
	use_ship_kill_target = no
	
	damage = { min = 2000 max = 5000 }
	windup = { min = 25 max = 30 }
	total_fire_time = 100
	range = 200.0
	accuracy = 0.75
	shield_penetration = 0.5
	armor_penetration = 0.5
	hull_damage = 1.5
	tracking = 0.05

	resources = {
		category = ship_components
		cost = {
			alloys = 2000
			sr_dark_matter = 30
		}
		upkeep = {
			sr_dark_matter = 0.1
		}
	}
	prerequisites = { "tech_ev_strategic_strike_system" }

	icon = GFX_ship_part_ev_strategic_strike_system
	icon_frame = 1
	size_restriction = {
		"megastructures_homeless_ship"
	}
	tags = {
		weapon_type_energy
		weapon_type_kinetic
		weapon_type_explosive
	}
	component_set = "EV_STRATEGIC_STRIKE_SYSTEM_1"

	#planet_destruction_gfx = "shatter_planet_gfx"
}


#非能源部件

#############
utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_1"
	size = small
	icon = "GFX_ship_part_thruster_1"
	icon_frame = 1
	power = @cruiser_power_1
	resources = {
		category = ship_components
		cost = {
			alloys = 2
		}
	}
	modifier = {
	}
	prerequisites = {
		"tech_thrusters_1"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_SHIP_THRUSTER_2"
	ai_weight = {
		weight = 1
	}
}

utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_2"
	size = small
	icon = "GFX_ship_part_thruster_2"
	icon_frame = 1
	power = @cruiser_power_2
	resources = {
		category = ship_components
		cost = {
			alloys = 4
		}
	}
	modifier = {
		ship_base_speed_mult = 0.25
		ship_evasion_add = 3
	}
	prerequisites = {
		"tech_thrusters_2"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_SHIP_THRUSTER_3"
	ai_weight = {
		weight = 2
	}
}

utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_3"
	size = small
	icon = "GFX_ship_part_thruster_3"
	icon_frame = 1
	power = @cruiser_power_3
	resources = {
		category = ship_components
		cost = {
			alloys = 7
		}
	}
	modifier = {
		ship_base_speed_mult = 0.5
		ship_evasion_add = 6
	}
	prerequisites = {
		"tech_thrusters_3"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_SHIP_THRUSTER_4"
	ai_weight = {
		weight = 3
	}
}

utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_4"
	size = small
	icon = "GFX_ship_part_thruster_4"
	icon_frame = 1
	power = @cruiser_power_4
	resources = {
		category = ship_components
		cost = {
			alloys = 11
		}
	}
	modifier = {
		ship_base_speed_mult = 0.75
		ship_evasion_add = 9
	}
	prerequisites = {
		"tech_thrusters_4"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	upgrades_to = "HOMELESS_SHIP_THRUSTER_5"
	ai_weight = {
		weight = 4
	}
}

utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_5"
	size = small
	icon = "GFX_ship_part_thruster_5"
	icon_frame = 1
	power = @cruiser_power_5
	resources = {
		category = ship_components
		cost = {
			alloys = 15
			sr_dark_matter = 4
		}
	}
	modifier = {
		ship_base_speed_mult = 1.25
		ship_evasion_add = 12
	}
	prerequisites = {
		"tech_dark_matter_propulsion"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		"ev_army_ship"
	}
	ai_weight = {
		weight = 5
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

##########
utility_component_template = {
	key = "COMBAT_COMPUTER_HOMELESS"
	size = small
	icon = "GFX_ship_part_computer_default"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
		cost = {
			alloys = 10
		}
	}
	ship_behavior = "colossus"	#"guerrilla_warfare_ev" #"colossus"
	#size_restriction = { "ev_ambassador_ship" "ev_fleet_size_ship" "homeless_ship" "homeless_ship_starbase" "private_homeless_ship" "private_homeless_ship_starbase" "mini_homeless_ship"  }
	component_set = "combat_computers"
	ai_weight = {
		weight = 1
	}
}

utility_component_template = {
	key = "COMBAT_COMPUTER_HOMELESS_GUERRILLA"
	size = small
	icon = "GFX_ship_part_computer_default"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
		cost = {
			alloys = 20
		}
	}
	ship_behavior = "guerrilla_warfare_ev"	#"guerrilla_warfare_ev" #"colossus"
	#size_restriction = { "ev_ambassador_ship" "ev_fleet_size_ship" "homeless_ship" "homeless_ship_starbase" "private_homeless_ship" "private_homeless_ship_starbase" "mini_homeless_ship" "ev_pirate_corvette" "ev_pirate_destroyer" "ev_pirate_cruiser" }
	component_set = "combat_computers"
	modifier = {
		ship_weapon_range_mult = 0.33
	}
	ai_weight = {
		weight = 1
	}
}

#
utility_component_template = {
	key = "HOMELESS_SHIP_THRUSTER_5"
	size = aux
	icon = "GFX_ship_part_thruster_5"
	icon_frame = 1
	power = -200
	resources = {
		category = ship_components
		cost = {
			alloys = 15
			sr_dark_matter = 4
		}
	}
	modifier = {
		ship_base_speed_mult = 1.25
		ship_evasion_add = 12
	}
	prerequisites = {
		"tech_dark_matter_propulsion"
	}
	component_set = "thruster_components"
	size_restriction = {
		"ev_ambassador_ship"
		"homeless_ship"
		"ev_fleet_size_ship"
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		"ev_pirate_corvette"
		"ev_pirate_destroyer"
		"ev_pirate_cruiser"
		
	}
	ai_weight = {
		weight = 5
		modifier = {
			factor = 0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 0
			}
		}
	}
}

utility_component_template = {
	key = "EV_REACTOR_BOOSTER_1"
	size = aux
	icon = "GFX_ship_part_ev_reactor_booster_1"
	icon_frame = 1
	power = 1000
	resources = {
		category = ship_components
		cost = {
			alloys = 80
		}
	}
	ship_modifier = {
		ship_homeless_ev_produces_mult = 0.01
	}
	prerequisites = {
		"tech_ev_void_reactor_bosster_1"
	}
	component_set = "EV_REACTOR_BOOSTER_1"
	upgrades_to = "EV_REACTOR_BOOSTER_2"
	size_restriction = {
		"private_homeless_ship"
		"mini_homeless_ship"
		"homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
		#"ev_pirate_corvette"
		#"ev_pirate_destroyer"
		#"ev_pirate_cruiser"
	}
	ai_weight = {
		weight = 0
	}
}

utility_component_template = {
	key = "EV_REACTOR_BOOSTER_2"
	size = aux
	icon = "GFX_ship_part_ev_reactor_booster_2"
	icon_frame = 1
	power = 4500
	resources = {
		category = ship_components
		cost = {
			alloys = 300
		}
	}
	ship_modifier = {
		ship_homeless_ev_produces_mult = 0.02
	}
	prerequisites = {
		"tech_ev_void_reactor_bosster_2"
	}
	component_set = "EV_REACTOR_BOOSTER_2"
	upgrades_to = "EV_REACTOR_BOOSTER_3"
	size_restriction = {
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"homeless_ship"
		"private_homeless_ship_starbase"
	}
	ai_weight = {
		weight = 0
	}
}


utility_component_template = {
	key = "EV_REACTOR_BOOSTER_3"
	size = aux
	icon = "GFX_ship_part_ev_reactor_booster_3"
	icon_frame = 1
	power = 10000
	resources = {
		category = ship_components
		cost = {
			alloys = 80
		}
	}
	prerequisites = {
		"tech_ev_void_reactor_bosster_3"
	}
	ship_modifier = {
		ship_homeless_ev_produces_mult = 0.05
	}
	component_set = "EV_REACTOR_BOOSTER_3"
	#upgrades_to = "REACTOR_BOOSTER_2"
	size_restriction = {
		"private_homeless_ship"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
		"homeless_ship_starbase"
		"homeless_ship"
		"private_homeless_ship_starbase"
		#"ev_pirate_corvette"
		#"ev_pirate_destroyer"
		#"ev_pirate_cruiser"
	}
	ai_weight = {
		weight = 0
	}
}



#修复
utility_component_template = {
	key = "EV_FIX_AURA_1"
	size = aux
	icon = "GFX_ship_part_aura_nanobot"
	icon_frame = 1
	power = -100
	resources = {
		category = ship_components
		cost = {
			alloys = 80
		}
	}

	friendly_aura = {
		name = "aura_strike_craft"
		system_wide = yes
		
		stack_info = {			#A ship can only be affected by one aura of a certain id. If multiple auras have the same ID the one with the highest priority will be applied.
			id = friendly_strike_craft
			priority = 1
		}
		
		modifier = {
			ship_hull_regen_add_perc = 0.1
			ship_hull_regen_add_static = 5
			ship_armor_regen_add_perc = 0.1
			ship_armor_regen_add_static = 5
		}
		
		graphics = {
			area_effect = {
				entity = "circle_area_entity"
				dynamic_scale = yes
			}
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}

	prerequisites = {
		"tech_homeless_section_templates_1"
	}
	component_set = "homeless_computers"
	#upgrades_to = "REACTOR_BOOSTER_2"
	size_restriction = {
		"homeless_ship_starbase"
		"private_homeless_ship_starbase"
	}
	ai_weight = {
		weight = 0
	}
}

utility_component_template = {
	key = "EV_FIX_AURA_2"
	size = aux
	icon = "GFX_ship_part_aura_nanobot"
	icon_frame = 1
	power = -100
	resources = {
		category = ship_components
		cost = {
			alloys = 80
		}
	}

	friendly_aura = {
		name = "aura_strike_craft"
		system_wide = yes
		
		stack_info = {			#A ship can only be affected by one aura of a certain id. If multiple auras have the same ID the one with the highest priority will be applied.
			id = friendly_strike_craft
			priority = 1
		}
		
		modifier = {
			ship_hull_regen_add_perc = 0.15
			ship_hull_regen_add_static = 30
			ship_armor_regen_add_perc = 0.15
			ship_armor_regen_add_static = 30
		}
		
		graphics = {
			area_effect = {
				entity = "circle_area_entity"
				dynamic_scale = yes
			}
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}

	prerequisites = {
		"tech_homeless_section_templates_1"
	}
	component_set = "homeless_computers"
	#upgrades_to = "REACTOR_BOOSTER_2"
	size_restriction = {
		"megastructures_homeless_ship"
	}
	ai_weight = {
		weight = 0
	}
}


##陆军

utility_component_template = {
	key = "EV_ARMY_FISSION_REACTOR"
	size = small
	icon = "GFX_ship_part_reactor_1"
	icon_frame = 1
	power = 200
	resources = {
		category = ship_components
		cost = {
			alloys = 0
		}
		upkeep = {
			energy = 0
		}
	}
	prerequisites = {
		"tech_fission_power"
	}
	component_set = "power_core"
	size_restriction = {
		"ev_army_ship"
	}
	ai_weight = {
		weight = 100
	}
}
#陆军核心---决定造船出来转换什么陆军
utility_component_template = {
	key = "EV_ARMY_CORE_1"
	size = small
	icon = "GFX_ship_part_ev_army_core_1"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			energy = 50
		}
		
	}

	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 1
	}
}
utility_component_template = {
	key = "EV_ARMY_CORE_2"
	size = small
	icon = "GFX_ship_part_ev_army_core_2"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 80
			manpower = 5
		}
		cost = {
			trigger = {
				owner = { 
					is_gestalt = yes
				}
			}
			manpower = -5
		}
	}

	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 2
	}
}
#机械战士
utility_component_template = {
	key = "EV_ARMY_CORE_3"
	size = small
	icon = "GFX_ship_part_ev_army_core_3"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 100
		}
	}
	
	prerequisites = { "tech_droid_workers" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 2
	}
}
#灵能部队
utility_component_template = {
	key = "EV_ARMY_CORE_4"
	size = small
	icon = "GFX_ship_part_ev_army_core_4"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 150
			manpower = 10
		}
		cost = {
			trigger = {
				owner = { 
					is_gestalt = yes
				}
			}
			manpower = -10
		}
	}
	
	prerequisites = { "tech_telepathy" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 5
	}
}
#异星部队
utility_component_template = {
	key = "EV_ARMY_CORE_5"
	size = small
	icon = "GFX_ship_part_ev_army_core_5"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 200
		}
	}
	
	prerequisites = { "tech_morphogenetic_field_mastery" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 4
	}
}
#基因战士
utility_component_template = {
	key = "EV_ARMY_CORE_6"
	size = small
	icon = "GFX_ship_part_ev_army_core_6"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 200
			#manpower = 10
		}
		cost = {
			trigger = {
				owner = { 
					is_gestalt = yes
				}
			}
			manpower = -10
		}
	}
	
	prerequisites = { "tech_gene_seed_purification" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 5
	}
}
#machine_assault_2 机械入侵2
utility_component_template = {
	key = "EV_ARMY_CORE_7"
	size = small
	icon = "GFX_ship_part_ev_army_core_7"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 200
		}
	}
	
	prerequisites = { "tech_adaptive_combat_algorithms" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 5
	}
}
#巨型战体
utility_component_template = {
	key = "EV_ARMY_CORE_8"
	size = small
	icon = "GFX_ship_part_ev_army_core_8"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 800
		}
	}
	
	prerequisites = { "tech_adaptive_combat_algorithms" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 5
	}
}



#奴隶陆军
utility_component_template = {
	key = "EV_ARMY_CORE_9"
	size = small
	icon = "GFX_ship_part_ev_army_core_9"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 25
			manpower = 5
		}
		cost = {
			trigger = {
				owner = { 
					is_gestalt = yes
				}
			}
			manpower = -5
		}
	}
	
	prerequisites = { "tech_neural_implants" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 2
	}
}


#克隆人大军
utility_component_template = {
	key = "EV_ARMY_CORE_12"
	size = small
	icon = "GFX_ship_part_ev_army_core_12"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 75
			
		}
	}
	
	prerequisites = { "tech_gene_banks" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 2.5
	}
}

#虚母圣军团
utility_component_template = {
	key = "EV_ARMY_CORE_13"
	size = small
	icon = "GFX_ship_part_ev_army_core_13"
	icon_frame = 1
	power = 20

	resources = {
		category = armies
		cost = {
			minerals = 500
			manpower = 10
		}
	}
	
	prerequisites = { "tech_ev_void_amry" }
	
	size_restriction = {
		"ev_army_ship"
	}
	component_set = "ev_army_core"

	ai_weight = {
		weight = 7
	}
}
#家园舰隐形部件
# Basic Cloaking Device
utility_component_template = {
	key = "EV_CORVETTE_CLOAKING_1"
	size = aux
	icon = "GFX_ship_part_cloak_1"
	icon_frame = 1
	power = 100
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t1_cost_alloys
			exotic_gases = @cloak_s_t1_cost_strategic_resources
		}
		upkeep = {
			energy = @cloak_s_t1_upkeep_energy
			alloys = @cloak_s_t1_upkeep_alloys
		}
	}

	modifier = {
		ship_cloaking_strength_add = @very_low_strength
	}

	triggered_ship_modifier = {
		potential = {
			is_cloaked = yes
		}
		modifier = {
			ship_shield_reduction = 1
		}
	}
	custom_tooltip = "CLOAKING_1_TOOLTIP"

	ship_limit = 1

	size_restriction = {
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
	}
	blocked_by = {
		EV_CORVETTE_CLOAKING_2
		EV_CORVETTE_CLOAKING_3
		EV_CORVETTE_CLOAKING_DARK_MATTER
		EV_CORVETTE_CLOAKING_PSI
	}
	prerequisites = { "tech_cloaking_1" }
	component_set = "EV_CLOAKING_1"
	upgrades_to = "EV_CORVETTE_CLOAKING_2"
	ai_tags = {
		gunship_stealth
		explosive_stealth
		carrier_stealth
		screen_stealth
		artillery_stealth
		brawler_stealth
		energy_torpedoes_stealth
	}

	ai_weight = {
		weight = @basic_cloaking_weight
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = exotic_gases }
		}
		inline_script = ship_components/weights/roles_cloaking_devices
	}
}

# Advanced Cloaking Device
utility_component_template = {
	key = "EV_CORVETTE_CLOAKING_2"
	size = aux
	icon = "GFX_ship_part_cloak_2"
	icon_frame = 1
	power = 200
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t2_cost_alloys
			exotic_gases = @cloak_s_t2_cost_strategic_resources
			rare_crystals = @cloak_s_t2_cost_strategic_resources
		}
		upkeep = {
			energy = @cloak_s_t2_upkeep_energy
			alloys = @cloak_s_t2_upkeep_alloys
		}
	}

	modifier = {
		ship_cloaking_strength_add = @low_strength
	}

	triggered_ship_modifier = {
		potential = {
			is_cloaked = yes
		}
		modifier = {
			ship_shield_reduction = 1
		}
	}
	custom_tooltip = "CLOAKING_2_TOOLTIP"

	ship_limit = 1
	
	size_restriction = {
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
	}
	blocked_by = {
		EV_CORVETTE_CLOAKING_1
		EV_CORVETTE_CLOAKING_3
		EV_CORVETTE_CLOAKING_DARK_MATTER
		EV_CORVETTE_CLOAKING_PSI
	}
	prerequisites = { "tech_cloaking_2" }
	component_set = "EV_CLOAKING_2"
	upgrades_to = "EV_CORVETTE_CLOAKING_3"
	ai_tags = {
		gunship_stealth
		explosive_stealth
		carrier_stealth
		screen_stealth
		artillery_stealth
		brawler_stealth
		energy_torpedoes_stealth
	}
	ai_weight = {
		weight = @advanced_cloaking_weight
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = exotic_gases }
		}
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = rare_crystals }
		}
		inline_script = ship_components/weights/roles_cloaking_devices
	}
}

# Elite Cloaking Device
utility_component_template = {
	key = "EV_CORVETTE_CLOAKING_3"
	size = aux
	icon = "GFX_ship_part_cloak_3"
	icon_frame = 1
	power = 400
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t3_cost_alloys
			exotic_gases = @cloak_s_t3_cost_strategic_resources
			rare_crystals = @cloak_s_t3_cost_strategic_resources
		}
		upkeep = {
			energy = @cloak_s_t3_upkeep_energy
			alloys = @cloak_s_t3_upkeep_alloys
		}
	}

	modifier = {
		ship_cloaking_strength_add = @medium_strength
	}

	triggered_ship_modifier = {
		potential = {
			is_cloaked = yes
		}
		modifier = {
			ship_shield_reduction = 1
		}
	}
	custom_tooltip = "CLOAKING_3_TOOLTIP"

	ship_limit = 1
	blocked_by = {
		EV_CORVETTE_CLOAKING_1
		EV_CORVETTE_CLOAKING_2
		EV_CORVETTE_CLOAKING_DARK_MATTER
		EV_CORVETTE_CLOAKING_PSI
	}
	size_restriction = {
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
	}
	prerequisites = { "tech_cloaking_3" }
	component_set = "EV_CLOAKING_3"
	ai_tags = {
		gunship_stealth
		explosive_stealth
		carrier_stealth
		screen_stealth
		artillery_stealth
		brawler_stealth
		energy_torpedoes_stealth
	}
	ai_weight = {
		weight = @elite_cloaking_weight
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = exotic_gases }
		}
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = rare_crystals }
		}
		inline_script = ship_components/weights/roles_cloaking_devices
	}
}

# Dark Matter Cloaking Device
utility_component_template = {
	key = "EV_CORVETTE_CLOAKING_DARK_MATTER"
	size = aux
	icon = "GFX_ship_part_cloak_dark_matter"
	icon_frame = 1
	power = 700
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t4_cost_alloys
			exotic_gases = @cloak_s_t4_cost_strategic_resources
			sr_dark_matter = @cloak_s_cost_sr_dark_matter
		}
		upkeep = {
			energy = @cloak_s_t4_upkeep_energy
			alloys = @cloak_s_t4_upkeep_alloys
		}
	}

	modifier = {
		ship_cloaking_strength_add = @high_strength
	}

	triggered_ship_modifier = {
		potential = {
			is_cloaked = yes
		}
		modifier = {
			ship_shield_reduction = 0.5
		}
	}
	custom_tooltip = "CLOAKING_DARK_MATTER_TOOLTIP"

	ship_limit = 1
	blocked_by = {
		EV_CORVETTE_CLOAKING_1
		EV_CORVETTE_CLOAKING_2
		EV_CORVETTE_CLOAKING_3
		EV_CORVETTE_CLOAKING_PSI
	}
	size_restriction = {
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
	}
	prerequisites = { "tech_cloaking_dark_matter" }
	component_set = "EV_CLOAKING_DARK_MATTER"
	ai_tags = {
		gunship_stealth
		explosive_stealth
		carrier_stealth
		screen_stealth
		artillery_stealth
		brawler_stealth
		energy_torpedoes_stealth
	}
	ai_weight = {
		weight = @dark_matter_cloaking_weight
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = exotic_gases }
		}
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_dark_matter }
		}
		inline_script = ship_components/weights/roles_cloaking_devices
	}
}

# Psionic Cloaking Device
utility_component_template = {
	key = "EV_CORVETTE_CLOAKING_PSI"
	size = aux
	icon = "GFX_ship_part_cloak_psi"
	icon_frame = 1
	power = 700
	resources = {
		category = ship_components
		cost = {
			alloys = @cloak_s_t5_cost_alloys
			rare_crystals = @cloak_s_t5_cost_strategic_resources
			sr_zro = @cloak_s_cost_sr_zro
		}
		upkeep = {
			energy = @cloak_s_t5_upkeep_energy
			alloys = @cloak_s_t5_upkeep_alloys
		}
	}

	modifier = {
		ship_cloaking_strength_add = @very_high_strength
	}

	triggered_ship_modifier = {
		potential = {
			is_cloaked = yes
			has_non_psionic_shields = yes
		}
		modifier = {
			ship_shield_reduction = 1
		}
	}
	custom_tooltip = "EV_CLOAKING_PSI_TOOLTIP"

	ship_limit = 1
	blocked_by = {
		EV_CORVETTE_CLOAKING_1
		EV_CORVETTE_CLOAKING_2
		EV_CORVETTE_CLOAKING_3
		EV_CORVETTE_CLOAKING_DARK_MATTER
	}
	size_restriction = {
		"homeless_ship"
		"homeless_ship_starbase"
		"private_homeless_ship"
		"private_homeless_ship_starbase"
		"mini_homeless_ship"
		"megastructures_homeless_ship"
	}
	prerequisites = { "tech_cloaking_psi" }
	component_set = "EV_CLOAKING_PSI"
	ai_tags = {
		gunship_stealth
		explosive_stealth
		carrier_stealth
		screen_stealth
		artillery_stealth
		brawler_stealth
		energy_torpedoes_stealth
	}
	ai_weight = {
		weight = @psi_cloaking_weight
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = rare_crystals }
		}
		inline_script = ship_components/weights/roles_cloaking_devices
	}
}


#####傻逼蠢驴更新-2024.10.30 V3.14
#utility_component_template = {
#	key = "EV_ARMY_CORE_NONE"
#	size = small
#	icon = "GFX_ship_part_empty_ftl_drive"
#	icon_frame = 1
#	power = 0
#	component_set = "ev_army_core"
#
#	ai_weight = {
#		weight = 1
#	}
#}
#
#utility_component_template = {
#	key = "EV_HOMELESS_NONE_HOMELESS_COMPUTER"
#	size = small
#	icon = "GFX_ship_part_empty_ftl_drive"
#	icon_frame = 1
#	power = 0
#	component_set = "homeless_computers"
#	
#	ai_weight = {
#		weight = 0
#	}
#}
#
#utility_component_template = {
#	key = "EV_HOMELESS_NONE_REACTOR"
#	size = small
#	icon = "GFX_ship_part_empty_ftl_drive"
#	icon_frame = 1
#	power = 0
#	component_set = "power_core_ev"
#	
#	ai_weight = {
#		weight = 0
#	}
#}
